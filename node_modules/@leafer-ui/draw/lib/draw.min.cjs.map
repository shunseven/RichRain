{"version":3,"file":"draw.min.cjs","sources":["../../../../../../node_modules/.pnpm/@rollup+plugin-typescript@11.1.6_rollup@4.44.2_tslib@2.8.1_typescript@5.8.3/node_modules/tslib/tslib.es6.js","../../../../../../../src/ui/packages/decorator/src/data.ts","../../../../../../../src/ui/packages/external/src/index.ts","../../../../../../../src/ui/packages/external/src/color.ts","../../../../../../../src/ui/packages/display-module/data/src/UIData.ts","../../../../../../../src/ui/packages/display-module/data/src/GroupData.ts","../../../../../../../src/ui/packages/display-module/data/src/BoxData.ts","../../../../../../../src/ui/packages/display-module/data/src/LeaferData.ts","../../../../../../../src/ui/packages/display-module/data/src/FrameData.ts","../../../../../../../src/ui/packages/display-module/data/src/LineData.ts","../../../../../../../src/ui/packages/display-module/data/src/RectData.ts","../../../../../../../src/ui/packages/display-module/data/src/EllipseData.ts","../../../../../../../src/ui/packages/display-module/data/src/PolygonData.ts","../../../../../../../src/ui/packages/display-module/data/src/StarData.ts","../../../../../../../src/ui/packages/display-module/data/src/PathData.ts","../../../../../../../src/ui/packages/display-module/data/src/PenData.ts","../../../../../../../src/ui/packages/display-module/data/src/TextData.ts","../../../../../../../src/ui/packages/display-module/data/src/ImageData.ts","../../../../../../../src/ui/packages/display-module/data/src/CanvasData.ts","../../../../../../../src/ui/packages/display-module/bounds/src/UIBounds.ts","../../../../../../../src/ui/packages/display-module/render/src/UIRender.ts","../../../../../../../src/ui/packages/display-module/render/src/RectRender.ts","../../../../../../../src/ui/packages/display/src/UI.ts","../../../../../../../src/ui/packages/display/src/Group.ts","../../../../../../../src/ui/packages/display/src/Leafer.ts","../../../../../../../src/ui/packages/display/src/Rect.ts","../../../../../../../src/ui/packages/display/src/Box.ts","../../../../../../../src/ui/packages/display/src/Frame.ts","../../../../../../../src/ui/packages/display/src/Ellipse.ts","../../../../../../../src/ui/packages/display/src/Polygon.ts","../../../../../../../src/ui/packages/display/src/Star.ts","../../../../../../../src/ui/packages/display/src/Line.ts","../../../../../../../src/ui/packages/display/src/Image.ts","../../../../../../../src/ui/packages/display/src/Canvas.ts","../../../../../../../src/ui/packages/display/src/Text.ts","../../../../../../../src/ui/packages/display/src/Path.ts","../../../../../../../src/ui/packages/display/src/Pen.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import { IValue, IObject } from '@leafer/interface'\nimport { defineKey, decorateLeafAttr, attr, createDescriptor } from '@leafer/core'\n\nimport { ICanvas, IUI, IApp } from '@leafer-ui/interface'\n\n\nexport function effectType(defaultValue?: IValue) {\n    return decorateLeafAttr(defaultValue, (key: string) => attr({\n        set(value: IValue) {\n            this.__setAttr(key, value)\n            if (value) (this as IUI).__.__useEffect = true\n            this.__layout.renderChanged || this.__layout.renderChange()\n        }\n    }))\n}\n\nexport function resizeType(defaultValue?: IValue) {\n    return decorateLeafAttr(defaultValue, (key: string) => attr({\n        set(value: IValue) {\n            this.__setAttr(key, value)\n            this.__layout.boxChanged || this.__layout.boxChange();\n            (this as ICanvas).__updateSize()\n        }\n    }))\n}\n\nexport function zoomLayerType() {\n    return (target: IUI, key: string) => {\n        const privateKey = '_' + key\n        defineKey(target, key, {\n            set(value: IUI) { if (this.isLeafer) (this as IObject)[privateKey] = value },\n            get() {\n                return this.isApp\n                    ? (this as IApp).tree.zoomLayer\n                    : (this.isLeafer ? ((this as IObject)[privateKey] || this) : this.leafer && this.leafer.zoomLayer)\n            }\n        })\n    }\n}\n\nexport function createAttr(defaultValue?: IValue) {\n    return (target: IUI, key: string) => {\n        defineKey(target, key, createDescriptor(key, defaultValue))\n    }\n}","// Implemented in partner\nimport { IPaintModule, IPaintImageModule, IPaintGradientModule, IEffectModule, ITextConvertModule, IExportModule, IColorConvertModule, IPathArrowModule, IStateModule, ITransitionModule, ITransitionFunction, IFilterModule } from \"@leafer-ui/interface\"\nimport { Plugin, UnitConvertHelper } from '@leafer/core'\nimport { hasTransparent } from './color'\n\n\nexport const TextConvert = {} as ITextConvertModule\n\nexport const ColorConvert = {\n    hasTransparent\n} as IColorConvertModule\n\nexport const UnitConvert = UnitConvertHelper\n\nexport const PathArrow = {} as IPathArrowModule\n\n\nexport const Paint = {} as IPaintModule\n\nexport const PaintImage = {} as IPaintImageModule\n\nexport const PaintGradient = {} as IPaintGradientModule\n\nexport const Effect = {} as IEffectModule\n\nexport const Filter = {\n    apply(): void { Plugin.need('filter') }\n} as unknown as IFilterModule\n\nexport const Export = {} as IExportModule\n\nexport const State = {\n    setStyleName(): void { return Plugin.need('state') },\n    set(): void { return Plugin.need('state') }\n} as unknown as IStateModule\n\nexport const Transition = {\n    list: {},\n    register(attrName: string, fn: ITransitionFunction): void { Transition.list[attrName] = fn },\n    get(attrName: string): ITransitionFunction { return Transition.list[attrName] }\n} as ITransitionModule","export function hasTransparent(color?: string): boolean {\n\n    if (!color || color.length === 7 || color.length === 4) return false\n    if (color === 'transparent') return true  // transparent keyword\n\n    const first = color[0]\n\n    if (first === '#') {\n\n        // hex\n        switch (color.length) {\n            case 5: return color[4] !== 'f' && color[4] !== 'F' // #RGBA\n            case 9: return (color[7] !== 'f' && color[7] !== 'F') || (color[8] !== 'f' && color[8] !== 'F') // #RRGGBBAA\n        }\n\n    } else if (first === 'r' || first === 'h') {\n\n        // rgba(...) or hsla(...)\n        if (color[3] === 'a') {\n            const i = color.lastIndexOf(',')\n            if (i > -1) return parseFloat(color.slice(i + 1)) < 1\n        }\n\n    }\n\n    return false\n\n}","import { INumber, IValue, IBoolean, IPathCommandData, IPathString, IPointData, IPathCommandObject, IObject, IFilter, IPathCommandNode } from '@leafer/interface'\nimport { PathConvert, DataHelper, LeafData, Debug, isArray, isObject, isString, isUndefined } from '@leafer/core'\n\nimport { IUI, IUIData, ILeafPaint, IStrokeComputedStyle } from '@leafer-ui/interface'\nimport { Paint, PaintImage, ColorConvert } from '@leafer-ui/external'\n\n\nconst { parse, objectToCanvasData } = PathConvert\nconst { stintSet } = DataHelper, { hasTransparent } = ColorConvert\nconst emptyPaint: ILeafPaint = { originPaint: {} as any }\nconst debug = Debug.get('UIData')\nexport class UIData extends LeafData implements IUIData {\n\n    declare public __leaf: IUI\n\n    public get scale(): INumber | IPointData { const { scaleX, scaleY } = this as IUIData; return scaleX !== scaleY ? { x: scaleX, y: scaleY } : scaleX }\n\n    public __blendLayer?: boolean // 非元素属性必须以两个下划线开头\n\n    public __isFills?: boolean\n    public __isStrokes?: boolean\n\n    public get __strokeWidth(): number { return this.__getRealStrokeWidth() }\n\n    public get __maxStrokeWidth(): number { const t = this as IUIData; return t.__hasMultiStrokeStyle ? Math.max(t.__hasMultiStrokeStyle, t.strokeWidth) : t.strokeWidth }\n\n    public __hasMultiStrokeStyle?: number // 是否存在多个不同的描述样式（同时存储多个描边样式中的最大宽度用于运算）\n\n    public get __hasMultiPaint(): boolean { const t = this as IUIData; return (t.fill && this.__useStroke) || (t.__isFills && t.fill.length > 1) || (t.__isStrokes && t.stroke.length > 1) || t.__useEffect } // fix: opacity\n\n    public __isAlphaPixelFill?: boolean // png / svg / webp\n    public __isAlphaPixelStroke?: boolean\n\n    public __isTransparentFill?: boolean  // 半透明的 \n    public __isTransparentStroke?: boolean\n\n    public get __clipAfterFill(): boolean { const t = this as IUIData; return (t.cornerRadius || t.innerShadow || t.__pathInputed) as unknown as boolean } // 用于 (Box | Canvas | Robot) __drawAfterFill() 时裁剪内容\n    public get __hasSurface(): boolean { const t = this as IUIData; return (t.fill || t.stroke) as unknown as boolean }\n\n    public __needComputePaint: boolean\n\n    protected _visible?: IBoolean\n\n    protected _width?: INumber\n    protected _height?: INumber\n\n    protected _fill?: IValue\n    protected _stroke?: IValue\n\n    protected _path: IPathCommandData\n\n    protected _shadow?: IValue\n    protected _innerShadow?: IValue\n\n    public get __autoWidth() { return !this._width }\n    public get __autoHeight() { return !this._height }\n    public get __autoSide() { return !this._width || !this._height }\n    public get __autoSize() { return !this._width && !this._height }\n\n\n    protected setVisible(value: IBoolean) {\n        this._visible = value\n\n        const { leafer } = this.__leaf\n        if (leafer) leafer.watcher.hasVisible = true\n    }\n\n    protected setWidth(value: INumber) {\n        if (value < 0) {\n            this._width = -value\n            this.__leaf.scaleX *= -1\n            debug.warn('width < 0, instead -scaleX ', this)\n        } else this._width = value\n    }\n\n    protected setHeight(value: INumber) {\n        if (value < 0) {\n            this._height = -value\n            this.__leaf.scaleY *= -1\n            debug.warn('height < 0, instead -scaleY', this)\n        } else this._height = value\n    }\n\n\n    protected setFill(value: IValue) {\n        if (this.__naturalWidth) this.__removeNaturalSize()\n        if (isString(value) || !value) {\n            stintSet(this, '__isTransparentFill', hasTransparent(value as string))\n            this.__isFills && this.__removePaint('fill', true)\n            this._fill = value\n        } else if (isObject(value)) {\n            this.__setPaint('fill', value)\n        }\n    }\n\n    protected setStroke(value: IValue) {\n        if (isString(value) || !value) {\n            stintSet(this, '__isTransparentStroke', hasTransparent(value as string))\n            this.__isStrokes && this.__removePaint('stroke', true)\n            this._stroke = value\n        } else if (isObject(value)) {\n            this.__setPaint('stroke', value)\n        }\n    }\n\n\n    protected setPath(value: IPathCommandData | IPathCommandNode[] | IPathCommandObject[] | IPathString) {\n        const isStr = isString(value)\n        if (isStr || (value && isObject(value[0]))) {\n            this.__setInput('path', value)\n            this._path = isStr ? parse(value) : objectToCanvasData(value as IPathCommandObject[])\n        } else {\n            if (this.__input) this.__removeInput('path')\n            this._path = value as IPathCommandData\n        }\n    }\n\n\n    protected setShadow(value: IValue) {\n        setArray(this, 'shadow', value)\n    }\n\n    protected setInnerShadow(value: IValue) {\n        setArray(this, 'innerShadow', value)\n    }\n\n    protected setFilter(value: IValue) {\n        setArray(this, 'filter', value)\n    }\n\n\n    // custom\n\n    public __computePaint(): void {\n        const { fill, stroke } = this.__input\n        if (fill) Paint.compute('fill', this.__leaf)\n        if (stroke) Paint.compute('stroke', this.__leaf)\n        this.__needComputePaint = undefined\n    }\n\n\n    public __getRealStrokeWidth(childStyle?: IStrokeComputedStyle): number {\n        let { strokeWidth, strokeWidthFixed } = this as IUIData\n        if (childStyle) {\n            if (childStyle.strokeWidth) strokeWidth = childStyle.strokeWidth\n            if (!isUndefined(childStyle.strokeWidthFixed)) strokeWidthFixed = childStyle.strokeWidthFixed\n        }\n        if (strokeWidthFixed) {\n            const scale = this.__leaf.getClampRenderScale()\n            return scale > 1 ? strokeWidth / scale : strokeWidth\n        } else return strokeWidth\n    }\n\n\n    public __setPaint(attrName: 'fill' | 'stroke', value: IValue): void {\n        this.__setInput(attrName, value)\n        const layout = this.__leaf.__layout\n        layout.boxChanged || layout.boxChange()\n        if (isArray(value) && !value.length) {\n            this.__removePaint(attrName)\n        } else {\n            if (attrName === 'fill') this.__isFills = true, this._fill || (this._fill = emptyPaint)\n            else this.__isStrokes = true, this._stroke || (this._stroke = emptyPaint)\n        }\n    }\n\n    public __removePaint(attrName: 'fill' | 'stroke', removeInput?: boolean): void {\n        if (removeInput) this.__removeInput(attrName)\n        PaintImage.recycleImage(attrName, this)\n        if (attrName === 'fill') {\n            stintSet(this, '__isAlphaPixelFill', undefined)\n            this._fill = this.__isFills = undefined\n        } else {\n            stintSet(this, '__isAlphaPixelStroke', undefined)\n            stintSet(this, '__hasMultiStrokeStyle', undefined)\n            this._stroke = this.__isStrokes = undefined\n        }\n    }\n}\n\n\nfunction setArray(data: IUIData, key: string, value: IValue) {\n    data.__setInput(key, value)\n    if (isArray(value)) {\n        if (value.some((item: IFilter) => item.visible === false)) value = value.filter((item: IFilter) => item.visible !== false)\n        value.length || (value = undefined)\n    } else value = value && (value as IFilter).visible !== false ? [value] : undefined;\n    (data as IObject)['_' + key] = value\n}\n","import { IGroupData } from '@leafer-ui/interface'\n\nimport { UIData } from \"./UIData\"\n\n\nexport class GroupData extends UIData implements IGroupData {\n\n}\n","import { IBox, IBoxData } from '@leafer-ui/interface'\n\nimport { GroupData } from \"./GroupData\"\n\n\nexport class BoxData extends GroupData implements IBoxData {\n\n    public get __boxStroke(): boolean { return !(this as IBoxData).__pathInputed }\n\n    // 当成整体处理\n    public get __drawAfterFill(): boolean { const t = this as IBoxData; return t.__single || t.__clipAfterFill }\n\n    public get __clipAfterFill(): boolean { const t = this as IBoxData; return t.overflow !== 'show' && t.__leaf.children.length && ((t.__leaf as IBox).isOverflow || super.__clipAfterFill) as unknown as boolean }\n\n}\n","import { canvasSizeAttrs } from '@leafer/core'\n\nimport { ILeaferData, IObject, IJSONOptions } from '@leafer-ui/interface'\n\nimport { GroupData } from './GroupData'\n\nexport class LeaferData extends GroupData implements ILeaferData {\n\n    public __getInputData(names?: string[] | IObject, options?: IJSONOptions): IObject {\n        const data = super.__getInputData(names, options)\n        canvasSizeAttrs.forEach(key => delete (data as IObject)[key])\n        return data\n    }\n}\n","import { IFrameData } from '@leafer-ui/interface'\n\nimport { BoxData } from './BoxData'\n\n\nexport class FrameData extends BoxData implements IFrameData {\n\n}\n","import { ILineData } from \"@leafer-ui/interface\"\n\nimport { UIData } from \"./UIData\"\n\n\nexport class LineData extends UIData implements ILineData {\n\n    public get __usePathBox(): boolean {\n        return ((this as ILineData).points || (this as ILineData).__pathInputed) as any as boolean\n    }\n\n}\n","import { IRectData } from \"@leafer-ui/interface\"\n\nimport { UIData } from \"./UIData\"\n\n\nexport class RectData extends UIData implements IRectData {\n    get __boxStroke(): boolean { return !(this as IRectData).__pathInputed }\n}","import { IEllipseData } from '@leafer-ui/interface'\n\nimport { UIData } from \"./UIData\"\n\n\nexport class EllipseData extends UIData implements IEllipseData {\n    get __boxStroke(): boolean { return !(this as IEllipseData).__pathInputed }\n}","import { IPolygonData } from '@leafer-ui/interface'\n\nimport { LineData } from './LineData'\n\n\nexport class PolygonData extends LineData implements IPolygonData {\n\n}","import { IStarData } from '@leafer-ui/interface'\n\nimport { UIData } from \"./UIData\"\n\n\nexport class StarData extends UIData implements IStarData {\n\n}","import { IPathData } from '@leafer-ui/interface'\n\nimport { UIData } from \"./UIData\"\n\n\nexport class PathData extends UIData implements IPathData {\n    public get __pathInputed(): number { return 2 }\n}","import { IPenData } from '@leafer-ui/interface'\n\nimport { GroupData } from './GroupData'\n\n\nexport class PenData extends GroupData implements IPenData {\n\n}\n","import { IJSONOptions } from '@leafer/interface'\nimport { UICreator, isString } from '@leafer/core'\n\nimport { IFontWeight, ITextData, IUI, IText, IObject, IBackgroundBoxStyle, IFontWeightNumer, ITextInputData } from '@leafer-ui/interface'\n\nimport { UIData } from \"./UIData\"\n\n\n\nconst fontWeightMap = {\n    'thin': 100,\n    'extra-light': 200,\n    'light': 300,\n    'normal': 400,\n    'medium': 500,\n    'semi-bold': 600,\n    'bold': 700,\n    'extra-bold': 800,\n    'black': 900\n}\n\nexport class TextData extends UIData implements ITextData {\n\n    public get __useNaturalRatio() { return false }\n\n    protected _fontWeight?: number\n    protected _boxStyle?: IBackgroundBoxStyle\n\n    setFontWeight(value: IFontWeight): void {\n        if (isString(value)) {\n            this.__setInput('fontWeight', value)\n            value = fontWeightMap[value] as IFontWeightNumer || 400\n        } else if (this.__input) this.__removeInput('fontWeight')\n        this._fontWeight = value\n    }\n\n    setBoxStyle(value: IUI) {\n        let t = this.__leaf as IText, box = t.__box\n\n        if (value) {\n\n            const { boxStyle } = this as ITextData\n            if (box) for (let key in boxStyle) (box as IObject)[key] = undefined\n            else box = t.__box = UICreator.get('Rect', 0 as any) as IUI // 传递 0 可以优化内存占用\n\n            const layout = t.__layout, boxLayout = box.__layout\n            if (!boxStyle) box.parent = t as any, box.__world = t.__world, boxLayout.boxBounds = layout.boxBounds\n\n            box.set(value)\n            if (boxLayout.strokeChanged) layout.strokeChange()\n\n        } else if (box) {\n            t.__box = box.parent = null\n            box.destroy()\n        }\n\n        this._boxStyle = value\n\n    }\n\n    public __getInputData(names?: string[] | IObject, options?: IJSONOptions): IObject {\n        const data: ITextInputData = super.__getInputData(names, options)\n        if (data.textEditing) delete data.textEditing\n        return data\n    }\n\n}","import { IImageData, IImageInputData, IImage, IObject, IJSONOptions } from '@leafer-ui/interface'\n\nimport { RectData } from './RectData'\n\n\nexport class ImageData extends RectData implements IImageData {\n\n    declare public __leaf: IImage\n\n    protected _url: string\n\n    protected setUrl(value: string) {\n        this.__setImageFill(value)\n        this._url = value\n    }\n\n    public __setImageFill(value: string): void {\n        (this as IImageInputData).fill = value ? { type: 'image', mode: 'stretch', url: value } : undefined\n    }\n\n    public __getData(): IObject {\n        const data: IImageInputData = super.__getData()\n        if (data.url) delete data.fill\n        return data\n    }\n\n    public __getInputData(names?: string[] | IObject, options?: IJSONOptions): IObject {\n        const data: IImageInputData = super.__getInputData(names, options)\n        if (data.url) delete data.fill\n        return data\n    }\n}","import { ICanvas, ICanvasData, ICanvasInputData, IObject, IJSONOptions } from '@leafer-ui/interface'\n\nimport { RectData } from './RectData'\n\n\nexport class CanvasData extends RectData implements ICanvasData {\n\n    public get __isCanvas(): boolean { return true }\n    public get __drawAfterFill(): boolean { return true }\n\n    public __getInputData(names?: string[] | IObject, options?: IJSONOptions): IObject {\n        const data: ICanvasInputData = super.__getInputData(names, options)\n        data.url = (this.__leaf as ICanvas).canvas.toDataURL('image/png') as string\n        return data\n    }\n}","import { IFourNumber } from '@leafer/interface'\nimport { FourNumberHelper } from '@leafer/core'\n\nimport { IUIBoundsModule } from \"@leafer-ui/interface\"\nimport { Effect, Filter } from '@leafer-ui/external'\n\n\nconst { max, add } = FourNumberHelper\n\nexport const UIBounds: IUIBoundsModule = {\n\n    __updateStrokeSpread(): IFourNumber {\n        let spread: IFourNumber = 0, boxSpread = 0\n        const data = this.__, { strokeAlign, __maxStrokeWidth: strokeWidth } = data, box = this.__box\n\n        if ((data.stroke || data.hitStroke === 'all') && strokeWidth && strokeAlign !== 'inside') {\n            boxSpread = spread = strokeAlign === 'center' ? strokeWidth / 2 : strokeWidth\n\n            if (!data.__boxStroke) {\n                const miterLimitAddWidth = data.__isLinePath ? 0 : 10 * spread  // =  Math.sin((miterLimit = 10) * OneRadian / 2) * Math.sqrt(strokeWidth) - width 后期需继续精确优化\n                const storkeCapAddWidth = data.strokeCap === 'none' ? 0 : strokeWidth\n                spread += Math.max(miterLimitAddWidth, storkeCapAddWidth)\n            }\n        }\n\n        if (data.__useArrow) spread += strokeWidth * 5 // 后期需要精细化\n\n        if (box) {\n            spread = max(spread, box.__layout.strokeSpread = box.__updateStrokeSpread())\n            boxSpread = Math.max(boxSpread, box.__layout.strokeBoxSpread)\n        }\n\n        this.__layout.strokeBoxSpread = boxSpread\n\n        return spread\n    },\n\n    __updateRenderSpread(): IFourNumber {\n        let spread: IFourNumber = 0\n        const { shadow, innerShadow, blur, backgroundBlur, filter, renderSpread } = this.__, { strokeSpread } = this.__layout, box = this.__box\n\n        if (shadow) spread = Effect.getShadowRenderSpread(this, shadow)\n\n        if (blur) spread = max(spread, blur)\n\n        if (filter) spread = add(spread, Filter.getSpread(filter))\n\n        if (renderSpread) spread = add(spread, renderSpread)\n\n        if (strokeSpread) spread = add(spread, strokeSpread)\n\n\n        let shapeSpread = spread\n\n        if (innerShadow) shapeSpread = max(shapeSpread, Effect.getInnerShadowSpread(this, innerShadow))\n\n        if (backgroundBlur) shapeSpread = max(shapeSpread, backgroundBlur)\n\n        this.__layout.renderShapeSpread = shapeSpread\n\n        return box ? max(box.__updateRenderSpread(), spread) : spread\n    }\n\n}","import { ILeaferCanvas, IRenderOptions } from '@leafer/interface'\nimport { DataHelper, isArray } from '@leafer/core'\n\nimport { IUIRenderModule, ILeafPaint, ILeafStrokePaint, IUI } from '@leafer-ui/interface'\nimport { Paint, Effect, Filter, ColorConvert } from '@leafer-ui/external'\n\nconst { stintSet } = DataHelper\n\nexport const UIRender: IUIRenderModule = {\n\n    __updateChange(): void {\n        const data = this.__\n\n        if (data.__useStroke) {\n            const useStroke = data.__useStroke = !!(data.stroke && data.strokeWidth)\n            stintSet(this.__world, 'half', useStroke && data.strokeAlign === 'center' && data.strokeWidth % 2)  // 是否存在半逻辑像素渲染（奇数线宽的居中线条），可以半像素为起点绘制，防止模糊\n            stintSet(data, '__fillAfterStroke', useStroke && data.strokeAlign === 'outside' && data.fill && !data.__isTransparentFill)\n        }\n\n        if (data.__useEffect) {\n            const { shadow, fill, stroke } = data, otherEffect = data.innerShadow || data.blur || data.backgroundBlur || data.filter\n            stintSet(data, '__isFastShadow', shadow && !otherEffect && shadow.length < 2 && !shadow[0].spread && !Effect.isTransformShadow(shadow[0]) && fill && !data.__isTransparentFill && !(isArray(fill) && fill.length > 1) && (this.useFastShadow || !stroke || (stroke && data.strokeAlign === 'inside'))) // 高性能阴影条件， @leafer-ui/image check.ts 中的 allowDraw 逻辑需与此处关联\n            data.__useEffect = !!(shadow || otherEffect)\n        }\n\n        data.__checkSingle()\n\n        stintSet(data, '__complex', (data.__isFills || data.__isStrokes || data.cornerRadius || data.__useEffect) as boolean)\n    },\n\n    __drawFast(canvas: ILeaferCanvas, options: IRenderOptions): void {\n        drawFast(this, canvas, options)\n    },\n\n    __draw(canvas: ILeaferCanvas, options: IRenderOptions, originCanvas?: ILeaferCanvas): void {\n        const data = this.__\n\n        if (data.__complex) {\n\n            if (data.__needComputePaint) data.__computePaint()\n\n            const { fill, stroke, __drawAfterFill, __fillAfterStroke, __isFastShadow } = data\n\n            this.__drawRenderPath(canvas)\n\n            if (data.__useEffect && !__isFastShadow) {\n\n                const shape = Paint.shape(this, canvas, options)\n                this.__nowWorld = this.__getNowWorld(options) // restore\n\n                const { shadow, innerShadow, filter } = data\n\n                if (shadow) Effect.shadow(this, canvas, shape)\n\n                if (__fillAfterStroke) data.__isStrokes ? Paint.strokes(stroke as ILeafStrokePaint[], this, canvas, options) : Paint.stroke(stroke as string, this, canvas, options)\n\n                if (fill) data.__isFills ? Paint.fills(fill as ILeafPaint[], this, canvas, options) : Paint.fill(fill as string, this, canvas, options)\n\n                if (__drawAfterFill) this.__drawAfterFill(canvas, options)\n\n                if (innerShadow) Effect.innerShadow(this, canvas, shape)\n\n                if (stroke && !__fillAfterStroke) data.__isStrokes ? Paint.strokes(stroke as ILeafStrokePaint[], this, canvas, options) : Paint.stroke(stroke as string, this, canvas, options)\n\n                if (filter) Filter.apply(filter, this, this.__nowWorld, canvas, originCanvas, shape)\n\n                if (shape.worldCanvas) shape.worldCanvas.recycle()\n                shape.canvas.recycle()\n\n            } else {\n\n                if (__fillAfterStroke) data.__isStrokes ? Paint.strokes(stroke as ILeafStrokePaint[], this, canvas, options) : Paint.stroke(stroke as string, this, canvas, options)\n\n                if (__isFastShadow) {\n                    const shadow = data.shadow[0], { scaleX, scaleY } = this.getRenderScaleData(true, shadow.scaleFixed)\n                    canvas.save(), canvas.setWorldShadow(shadow.x * scaleX, shadow.y * scaleY, shadow.blur * scaleX, ColorConvert.string(shadow.color))\n                }\n\n                if (fill) data.__isFills ? Paint.fills(fill as ILeafPaint[], this, canvas, options) : Paint.fill(fill as string, this, canvas, options)\n\n                if (__isFastShadow) canvas.restore()\n\n                if (__drawAfterFill) this.__drawAfterFill(canvas, options)\n\n                if (stroke && !__fillAfterStroke) data.__isStrokes ? Paint.strokes(stroke as ILeafStrokePaint[], this, canvas, options) : Paint.stroke(stroke as string, this, canvas, options)\n\n            }\n\n        } else {\n\n            if (data.__pathForRender) drawFast(this, canvas, options)\n            else this.__drawFast(canvas, options)\n\n        }\n    },\n\n    __drawShape(canvas: ILeaferCanvas, options: IRenderOptions): void {\n        this.__drawRenderPath(canvas)\n\n        const data = this.__, { fill, stroke } = data\n\n        if (fill && !options.ignoreFill) data.__isAlphaPixelFill ? Paint.fills(fill as ILeafPaint[], this, canvas, options) : Paint.fill('#000000', this, canvas, options)\n        if (data.__isCanvas) this.__drawAfterFill(canvas, options)\n        if (stroke && !options.ignoreStroke) data.__isAlphaPixelStroke ? Paint.strokes(stroke as ILeafStrokePaint[], this, canvas, options) : Paint.stroke('#000000', this, canvas, options)\n    },\n\n    __drawAfterFill(canvas: ILeaferCanvas, options: IRenderOptions): void {\n        if (this.__.__clipAfterFill) {\n            canvas.save()\n            canvas.clipUI(this)\n            this.__drawContent(canvas, options)\n            canvas.restore()\n        } else this.__drawContent(canvas, options)\n    }\n\n}\n\n\nfunction drawFast(ui: IUI, canvas: ILeaferCanvas, options: IRenderOptions): void {\n    const { fill, stroke, __drawAfterFill, __fillAfterStroke } = ui.__\n\n    ui.__drawRenderPath(canvas)\n\n    if (__fillAfterStroke) Paint.stroke(stroke as string, ui, canvas, options)\n\n    if (fill) Paint.fill(fill as string, ui, canvas, options)\n    if (__drawAfterFill) ui.__drawAfterFill(canvas, options)\n\n    if (stroke && !__fillAfterStroke) Paint.stroke(stroke as string, ui, canvas, options)\n}","import { ILeaferCanvas, IRenderOptions } from '@leafer/interface'\n\nimport { IRectRenderModule } from '@leafer-ui/interface'\n\n\nexport const RectRender: IRectRenderModule = {\n\n    __drawFast(canvas: ILeaferCanvas, options: IRenderOptions): void {\n\n        let { x, y, width, height } = this.__layout.boxBounds\n        const { fill, stroke, __drawAfterFill } = this.__\n\n        if (fill) {\n            canvas.fillStyle = fill\n            canvas.fillRect(x, y, width, height)\n        }\n\n        if (__drawAfterFill) this.__drawAfterFill(canvas, options)\n\n        if (stroke) {\n\n            const { strokeAlign, __strokeWidth: strokeWidth } = this.__\n            if (!strokeWidth) return\n\n            canvas.setStroke(stroke, strokeWidth, this.__)\n            const half = strokeWidth / 2\n\n            switch (strokeAlign) {\n                case 'center':\n                    canvas.strokeRect(0, 0, width, height)\n                    break\n                case 'inside':\n                    width -= strokeWidth, height -= strokeWidth\n                    if (width < 0 || height < 0) {\n                        canvas.save()\n                        this.__clip(canvas, options)\n                        canvas.strokeRect(x + half, y + half, width, height)\n                        canvas.restore()\n                    } else canvas.strokeRect(x + half, y + half, width, height)\n                    break\n                case 'outside':\n                    canvas.strokeRect(x - half, y - half, width + strokeWidth, height + strokeWidth)\n                    break\n            }\n\n        }\n\n    }\n}\n","import { ILeaferCanvas, IRenderOptions, IPathDrawer, IPathCommandData, IHitType, INumber, IBoolean, IString, IPathString, IExportFileType, IPointData, ICursorType, IMaskType, IEraserType, IWindingRule, IPathCreator, IFourNumber, IBoundsData, IFlowType, IGap, IFlowWrap, IAxis, IConstraint, IAutoBoxData, IFlowBoxType, IPointGap, IFlowAlign, IFlowAxisAlign, IFindCondition, IAutoSize, IRangeSize, IAlign, IUnitPointData, IObject, IScaleData, IUnitData, IPathCommandObject, ITransition, IFilter, IScaleFixed, IDragBoundsType, IPathCommandNode } from '@leafer/interface'\nimport { Leaf, PathDrawer, surfaceType, dimType, dataType, positionType, scrollType, boundsType, pathType, scaleType, rotationType, opacityType, visibleType, sortType, maskType, dataProcessor, registerUI, useModule, rewrite, rewriteAble, UICreator, PathCorner, hitType, strokeType, PathConvert, eraserType, cursorType, autoLayoutType, pen, naturalBoundsType, pathInputType, MathHelper, Plugin, DataHelper, affectRenderBoundsType, isString, isNumber } from '@leafer/core'\n\nimport { IUI, IShadowEffect, IBlurEffect, IStrokeAlign, IStrokeJoin, IStrokeCap, IBlendMode, IDashPatternString, IShadowString, IGrayscaleEffect, IUIData, IGroup, IStrokeWidthString, ICornerRadiusString, IUIInputData, IExportOptions, IExportResult, IFill, IStroke, IArrowStyle, IFindUIMethod, ILeafer, IEditorConfig, IEditorConfigFunction, IEditToolFunction, IKeyframe, IAnimation, IAnimate, IStates, IStateName, IAnimateType, IStateStyle, IColorString, IAnimateList, ILeafPaint } from '@leafer-ui/interface'\nimport { effectType, zoomLayerType } from '@leafer-ui/decorator'\n\nimport { UIData } from '@leafer-ui/data'\nimport { UIBounds, UIRender } from '@leafer-ui/display-module'\n\nimport { Export, Paint, PathArrow } from '@leafer-ui/external'\n\n\n@useModule(UIBounds)\n@useModule(UIRender)\n@rewriteAble()\nexport class UI<TInputData = IUIInputData> extends Leaf<TInputData> implements IUI { // tip: rewrited Box\n\n    @dataProcessor(UIData)\n    declare public __: IUIData\n\n    declare public proxyData?: IUIInputData // need rewrite getter\n    declare public __proxyData?: IUIInputData\n\n    public get app(): ILeafer { return this.leafer && this.leafer.app }\n\n    declare public leafer?: ILeafer\n    declare public parent?: IGroup\n\n    @zoomLayerType()\n    public zoomLayer: IGroup\n\n    public get isFrame(): boolean { return false }\n\n    declare public children?: IUI[]\n\n    // ---\n\n    // id\n    @dataType('')\n    public id?: IString\n\n    @dataType('')\n    public name?: IString\n\n    @dataType('')\n    public className?: IString\n\n\n    // layer\n    @surfaceType('pass-through')\n    public blendMode?: IBlendMode\n\n    @opacityType(1)\n    public opacity?: INumber\n\n    @visibleType(true)\n    public visible?: IBoolean | 0\n\n\n    @surfaceType(false)\n    public locked?: IBoolean\n\n\n    // @leafer-in/bright will rewrite\n\n    @dimType(false)\n    public dim?: IBoolean | INumber // 是否弱化内容，可设置具体透明度\n\n    @dimType(false)\n    public dimskip?: IBoolean // 跳过弱化，突出显示内容，不受dim影响\n\n    public bright?: IBoolean // 突出显示内容，并置顶渲染，不受dim影响\n\n\n    @sortType(0)\n    public zIndex?: INumber\n\n\n    @maskType(false)\n    public mask?: IBoolean | IMaskType\n\n    @eraserType(false)\n    public eraser?: IBoolean | IEraserType\n\n\n    // position\n    @positionType(0, true)\n    public x?: INumber\n\n    @positionType(0, true)\n    public y?: INumber\n\n    // size\n    @boundsType(100, true)\n    public width?: INumber\n\n    @boundsType(100, true)\n    public height?: INumber\n\n    // scale\n    @scaleType(1, true)\n    public scaleX?: INumber\n\n    @scaleType(1, true)\n    public scaleY?: INumber\n\n    // @leafer-in/scale-fixed will rewrite\n    public scaleFixed?: IScaleFixed\n\n    // rotate\n    @rotationType(0, true)\n    public rotation?: INumber\n\n    // skew\n    @rotationType(0, true)\n    public skewX?: INumber\n\n    @rotationType(0, true)\n    public skewY?: INumber\n\n\n    // offset\n    @positionType(0, true)\n    public offsetX?: INumber\n\n    @positionType(0, true)\n    public offsetY?: INumber\n\n    // scroll\n    @scrollType(0, true)\n    public scrollX?: INumber\n\n    @scrollType(0, true)\n    public scrollY?: INumber\n\n\n    // center\n    @autoLayoutType()\n    public origin?: IAlign | IUnitPointData\n\n    @autoLayoutType()\n    public around?: IAlign | IUnitPointData\n\n\n    // image\n    @dataType(false)\n    public lazy?: IBoolean  // load image / compute paint\n\n    @naturalBoundsType(1)\n    public pixelRatio?: INumber\n\n\n    @affectRenderBoundsType(0)\n    public renderSpread?: IFourNumber // 强行扩大渲染边界\n\n\n    // path\n    @pathInputType()\n    public path?: IPathCommandData | IPathCommandNode[] | IPathCommandObject[] | IPathString\n\n    @pathType()\n    public windingRule?: IWindingRule\n\n    @pathType(true)\n    public closed?: boolean\n\n\n    // @leafer-in/flow rewrite\n    public flow?: IFlowType\n\n    @boundsType(0)\n    public padding?: IFourNumber\n\n    public gap?: IGap | IPointGap\n\n    public flowAlign?: IFlowAlign | IFlowAxisAlign\n\n    public flowWrap?: IFlowWrap\n\n\n    public itemBox?: IFlowBoxType\n\n    public inFlow?: IBoolean\n\n\n    public autoWidth?: IAutoSize\n\n    public autoHeight?: IAutoSize\n\n    @boundsType(false)\n    public lockRatio?: IBoolean\n\n    public autoBox?: IAutoBoxData | IConstraint\n\n    @boundsType()\n    public widthRange?: IRangeSize\n\n    @boundsType()\n    public heightRange?: IRangeSize\n\n\n    // drag\n    @dataType(false)\n    public draggable?: IBoolean | IAxis\n\n    @dataType()\n    public dragBounds?: IBoundsData | 'parent'\n\n    @dataType('auto')\n    dragBoundsType?: IDragBoundsType\n\n\n    @dataType(false)\n    public editable?: IBoolean\n\n\n    // hit\n    @hitType(true)\n    public hittable?: IBoolean\n\n    @hitType('path')\n    public hitFill?: IHitType\n\n    @strokeType('path')\n    public hitStroke?: IHitType\n\n    @hitType(false)\n    public hitBox?: IBoolean\n\n    @hitType(true)\n    public hitChildren?: IBoolean\n\n    @hitType(true)\n    public hitSelf?: IBoolean\n\n    @hitType()\n    public hitRadius?: INumber\n\n    @cursorType('')\n    public cursor?: ICursorType | ICursorType[]\n\n    // ---\n\n\n    // fill\n\n    @surfaceType()\n    public fill?: IFill\n\n    // stroke\n\n    @strokeType(undefined, true)\n    public stroke?: IStroke\n\n    @strokeType('inside')\n    public strokeAlign?: IStrokeAlign\n\n    @strokeType(1, true)\n    public strokeWidth?: IFourNumber | IStrokeWidthString\n\n    @strokeType(false)\n    public strokeWidthFixed?: IScaleFixed\n\n    @strokeType('none')\n    public strokeCap?: IStrokeCap\n\n    @strokeType('miter')\n    public strokeJoin?: IStrokeJoin\n\n    @strokeType()\n    public dashPattern?: INumber[] | IDashPatternString\n\n    @strokeType(0)\n    public dashOffset?: INumber\n\n    @strokeType(10)\n    public miterLimit?: INumber\n\n\n    // @leafer-in/arrow rewrite\n\n    public startArrow?: IArrowStyle\n\n    public endArrow?: IArrowStyle\n\n    // corner\n\n    @pathType(0)\n    public cornerRadius?: IFourNumber | ICornerRadiusString\n\n    @pathType()\n    public cornerSmoothing?: INumber\n\n    // effect\n\n    @effectType()\n    public shadow?: IShadowEffect | IShadowEffect[] | IShadowString\n\n    @effectType()\n    public innerShadow?: IShadowEffect | IShadowEffect[] | IShadowString\n\n    @effectType()\n    public blur?: INumber | IBlurEffect\n\n    @effectType()\n    public backgroundBlur?: INumber | IBlurEffect\n\n    @effectType()\n    public grayscale?: INumber | IGrayscaleEffect\n\n    @effectType()\n    public filter?: IFilter | IFilter[]\n\n\n    // @leafer-in/animate rewrite\n\n    public animation?: IAnimation | IAnimation[]\n\n    public animationOut?: IAnimation | IAnimation[]\n\n\n    public transition?: ITransition\n\n    public transitionOut?: ITransition\n\n\n    // @leafer-in/motion-path rewrite\n\n    public motionPath?: boolean\n\n    public motionPrecision?: INumber\n\n\n    public motion?: INumber | IUnitData\n\n    public motionRotation?: INumber | IBoolean\n\n\n    // @leafer-in/state rewrite\n\n    public states?: IStates\n\n    public state?: IStateName\n\n\n    public selected?: IBoolean\n\n    public disabled?: IBoolean\n\n\n    public normalStyle?: IStateStyle\n\n    public hoverStyle?: IStateStyle\n\n    public pressStyle?: IStateStyle\n\n    public focusStyle?: IStateStyle\n\n    public selectedStyle?: IStateStyle\n\n    public disabledStyle?: IStateStyle\n\n\n    public placeholderStyle?: IStateStyle\n\n    @surfaceType()\n    public placeholderColor?: IColorString\n\n    @dataType(100)\n    public placeholderDelay?: INumber\n\n\n    public button?: IBoolean\n\n\n    //  @leafer-in/editor rewrite\n\n    public editConfig: IEditorConfig\n\n    public editOuter: string\n\n    public editInner: string\n\n\n    // 预留给用户使用的数据对象\n    @dataType({})\n    public data: IObject\n\n\n    public set scale(value: INumber | IPointData) { MathHelper.assignScale(this as IScaleData, value) }\n    public get scale(): INumber | IPointData { return this.__.scale }\n\n    public get isAutoWidth(): boolean { const t = this.__; return t.__autoWidth || t.autoWidth as boolean }\n    public get isAutoHeight(): boolean { const t = this.__; return t.__autoHeight || t.autoHeight as boolean }\n\n    public useFastShadow?: boolean // 将忽略 stroke 产生的阴影，只对单个 fill 有效\n\n    public __box?: IUI // 背景box, 一般用于文本背景框\n    public __animate?: IAnimate | IAnimateList\n\n    public get pen(): IPathCreator {\n        const { path } = this.__\n        pen.set(this.path = path || [])\n        if (!path) this.__drawPathByBox(pen)\n        return pen\n    }\n\n\n    // data\n\n    @rewrite(Leaf.prototype.reset)\n    public reset(_data?: IUIInputData): void { }\n\n\n    // @leafer-in/animate and @leafer-in/state will rewrite\n\n    public set(data: IUIInputData, _transition?: ITransition | 'temp'): void {\n        if (data) Object.assign(this, data)\n    }\n\n    public get<K extends keyof this>(name?: K | K[] | IUIInputData): IUIInputData | this[K] {\n        return isString(name) ? this.__.__getInput(name) : this.__.__getInputData(name as string[] | undefined)\n    }\n\n    public createProxyData(): IUIInputData { return undefined }\n\n\n    // hit rewrite\n\n    public find(_condition: number | string | IFindCondition | IFindUIMethod, _options?: any): IUI[] { return Plugin.need('find') }\n\n    public findTag(tag: string | string[]): IUI[] { return this.find({ tag }) }\n\n    public findOne(_condition: number | string | IFindCondition | IFindUIMethod, _options?: any): IUI | undefined { return Plugin.need('find') }\n\n    public findId(id: number | string): IUI | undefined { return this.findOne({ id }) }\n\n\n    // path\n\n    public getPath(curve?: boolean, pathForRender?: boolean): IPathCommandData {\n        this.__layout.update()\n        let path = pathForRender ? this.__.__pathForRender : this.__.path\n        if (!path) pen.set(path = []), this.__drawPathByBox(pen, !pathForRender)\n        return curve ? PathConvert.toCanvasData(path, true) : path\n    }\n\n    public getPathString(curve?: boolean, pathForRender?: boolean, floatLength?: number): IPathString {\n        return PathConvert.stringify(this.getPath(curve, pathForRender), floatLength)\n    }\n\n\n    public load(): void {\n        this.__.__computePaint() // 手动加载图片\n    }\n\n    public __onUpdateSize(): void {\n        if (this.__.__input) {\n            const data = this.__;\n            (data.lazy && !this.__inLazyBounds && !Export.running) ? data.__needComputePaint = true : data.__computePaint()\n        }\n    }\n\n    public __updateRenderPath(): void {\n        const data = this.__\n        if (data.path) {\n            data.__pathForRender = data.cornerRadius ? PathCorner.smooth(data.path, data.cornerRadius, data.cornerSmoothing) : data.path\n            if (data.__useArrow) PathArrow.addArrows(this)\n        } else data.__pathForRender && (data.__pathForRender = undefined)\n    }\n\n    public __drawRenderPath(canvas: ILeaferCanvas): void {\n        canvas.beginPath()\n        this.__drawPathByData(canvas, this.__.__pathForRender)\n    }\n\n    public __drawPath(canvas: ILeaferCanvas): void {\n        canvas.beginPath()\n        this.__drawPathByData(canvas, this.__.path, true)\n    }\n\n    public __drawPathByData(drawer: IPathDrawer, data: IPathCommandData, ignoreCornerRadius?: boolean): void {\n        data ? PathDrawer.drawPathByData(drawer, data) : this.__drawPathByBox(drawer, ignoreCornerRadius)\n    }\n\n    public __drawPathByBox(drawer: IPathDrawer, ignoreCornerRadius?: boolean): void {\n        const { x, y, width, height } = this.__layout.boxBounds\n        if (this.__.cornerRadius && !ignoreCornerRadius) {\n            const { cornerRadius } = this.__\n            drawer.roundRect(x, y, width, height, isNumber(cornerRadius) ? [cornerRadius] : cornerRadius) // 修复微信浏览器bug, 后续需进一步优化\n        } else drawer.rect(x, y, width, height)\n        drawer.closePath()\n    }\n\n    public drawImagePlaceholder(_paint: ILeafPaint, canvas: ILeaferCanvas, renderOptions: IRenderOptions): void {\n        Paint.fill(this.__.placeholderColor, this, canvas, renderOptions)  // 图片占位符\n    }\n\n    // @leafer-in/animate rewrite\n\n    public animate(keyframe?: IUIInputData | IKeyframe[] | IAnimation | IAnimation[], _options?: ITransition, _type?: IAnimateType, _isTemp?: boolean): IAnimate {\n        this.set(keyframe as IUIInputData)\n        return Plugin.need('animate')\n    }\n\n    public killAnimate(_type?: IAnimateType, _nextStyle?: IUIInputData): void { }\n\n\n    // create\n\n    // @leafer-in/export will rewrite\n    public export(_filename: IExportFileType | string, _options?: IExportOptions | number | boolean): Promise<IExportResult> {\n        return Plugin.need('export')\n    }\n\n    public syncExport(_filename: IExportFileType | string, _options?: IExportOptions | number | boolean): IExportResult {\n        return Plugin.need('export')\n    }\n\n    public clone(data?: IUIInputData): this {\n        const json = DataHelper.clone(this.toJSON())\n        if (data) Object.assign(json, data)\n        return UI.one(json) as this\n    }\n\n    // this 参数定义，在编译的时候会移除\n    static one<T extends UI>(this: new (...args: any[]) => T, data: IUIInputData, x?: number, y?: number, width?: number, height?: number): T {\n        return UICreator.get(data.tag || this.prototype.__tag, data, x, y, width, height) as T\n    }\n\n    static registerUI(): void {\n        registerUI()(this)\n    }\n\n    static registerData(data: IUIData): void {\n        dataProcessor(data)(this.prototype)\n    }\n\n\n    // @leafer-in/editor rewrite\n\n    static setEditConfig(_config: IEditorConfig | IEditorConfigFunction): void { }\n\n    static setEditOuter(_toolName: string | IEditToolFunction): void { }\n\n    static setEditInner(_editorName: string | IEditToolFunction): void { }\n\n\n    public destroy(): void {\n        this.fill = this.stroke = null\n        if (this.__animate) this.killAnimate()\n        super.destroy()\n    }\n\n}\n","import { IJSONOptions, IPickOptions, IPickResult, IPointData, INumber, ITransition } from '@leafer/interface'\nimport { Branch, useModule, dataProcessor, registerUI, boundsType } from '@leafer/core'\n\nimport { IGroup, IGroupData, IGroupInputData, IUI, IUIInputData, IUIJSONData, IFindCondition, IFindUIMethod } from '@leafer-ui/interface'\nimport { GroupData } from '@leafer-ui/data'\n\nimport { UI } from './UI'\n\n\n@useModule(Branch)\n@registerUI()\nexport class Group<TInputData = IGroupInputData> extends UI<TInputData> implements IGroup {   // tip: rewrited Box\n\n    public get __tag() { return 'Group' }\n\n    public get isBranch(): boolean { return true }\n\n    @dataProcessor(GroupData)\n    declare public __: IGroupData\n\n    // size\n    @boundsType(0)\n    declare public width?: INumber\n\n    @boundsType(0)\n    declare public height?: INumber\n\n    declare public children: IUI[]\n\n    declare public topChildren?: IUI[]\n\n    public childlessJSON?: boolean\n\n\n    public reset(data?: IGroupInputData): void {\n        this.__setBranch()\n        super.reset(data)\n    }\n\n    public __setBranch(): void {\n        if (!this.children) this.children = []\n    }\n\n\n    // data\n\n    override set(data: IUIInputData, transition?: ITransition | 'temp'): void {\n        if (data) {\n            if (data.children) {\n                const { children } = data\n\n                delete data.children\n                this.children ? this.clear() : this.__setBranch()\n\n                super.set(data, transition)\n\n                children.forEach(child => this.add(child))\n                data.children = children\n\n            } else super.set(data, transition)\n        }\n    }\n\n    override toJSON(options?: IJSONOptions): IUIJSONData {\n        const data = super.toJSON(options)\n        if (!this.childlessJSON) data.children = this.children.map(child => child.toJSON(options))\n        return data\n    }\n\n\n    // hit rewrite\n\n    public pick(_hitPoint: IPointData, _options?: IPickOptions): IPickResult { return undefined }\n\n\n    // add\n\n    public addAt(child: IUI | IUI[] | IUIInputData | IUIInputData[], index: number): void {\n        this.add(child, index)\n    }\n\n    public addAfter(child: IUI | IUI[] | IUIInputData | IUIInputData[], after: IUI): void {\n        this.add(child, this.children.indexOf(after) + 1)\n    }\n\n    public addBefore(child: IUI | IUI[] | IUIInputData | IUIInputData[], before: IUI): void {\n        this.add(child, this.children.indexOf(before))\n    }\n\n    // Branch rewrite\n\n    public add(_child: IUI | IUI[] | IUIInputData | IUIInputData[], _index?: number): void { }\n\n    public addMany(..._children: IUI[] | IUIInputData[]): void { }\n\n    public remove(_child?: IUI | number | string | IFindCondition | IFindUIMethod, _destroy?: boolean): void { }\n\n    public removeAll(_destroy?: boolean): void { }\n\n    public clear(): void { }\n\n}","import { ILeaferCanvas, IRenderer, ILayouter, ISelector, IWatcher, IInteraction, ILeaferConfig, ICanvasManager, IHitCanvasManager, IAutoBounds, IScreenSizeData, IResizeEvent, IEventListenerId, ITimer, IValue, IObject, IControl, IPointData, ILeaferType, ICursorType, IBoundsData, INumber, IZoomType, IZoomOptions, IFourNumber, IBounds, IClientPointData, ITransition, ICanvasSizeAttr, ILeaferMode } from '@leafer/interface'\nimport { AutoBounds, LayoutEvent, ResizeEvent, LeaferEvent, CanvasManager, ImageManager, Resource, DataHelper, Creator, Run, Debug, RenderEvent, registerUI, boundsType, canvasSizeAttrs, dataProcessor, WaitHelper, WatchEvent, Bounds, LeafList, Plugin, getBoundsData, dataType } from '@leafer/core'\n\nimport { ILeaferInputData, ILeaferData, IFunction, IUIInputData, ILeafer, IApp, IEditorBase } from '@leafer-ui/interface'\nimport { LeaferData } from '@leafer-ui/data'\n\nimport { Group } from './Group'\n\n\nconst debug = Debug.get('Leafer')\n\n@registerUI()\nexport class Leafer extends Group implements ILeafer {\n\n    static list = new LeafList() // 所有leafer实例\n\n\n    public get __tag() { return 'Leafer' }\n\n    @dataProcessor(LeaferData)\n    declare public __: ILeaferData\n\n    @boundsType()\n    declare public pixelRatio?: INumber\n\n    @dataType('normal')\n    public mode: ILeaferMode\n\n    public get isApp(): boolean { return false }\n    public get app(): ILeafer { return this.parent || this }\n\n    public get isLeafer(): boolean { return true }\n\n    public parentApp?: IApp\n    declare public parent?: IApp\n\n    public running: boolean\n    public created: boolean\n    public ready: boolean\n    public viewReady: boolean\n    public viewCompleted: boolean\n    public get imageReady(): boolean { return this.viewReady && Resource.isComplete }\n    public get layoutLocked() { return !this.layouter.running }\n\n    public transforming: boolean\n\n    public get view(): unknown { return this.canvas && this.canvas.view }\n\n    //  manager\n    public canvas: ILeaferCanvas\n    public renderer: IRenderer\n\n    public watcher: IWatcher\n    public layouter: ILayouter\n\n    public selector?: ISelector\n    public interaction?: IInteraction\n\n    public canvasManager: ICanvasManager\n    public hitCanvasManager?: IHitCanvasManager\n\n    // plugin\n    public editor: IEditorBase\n\n    public userConfig: ILeaferConfig\n    public config: ILeaferConfig = {\n        start: true,\n        hittable: true,\n        smooth: true,\n        lazySpeard: 100,\n        // maxFPS: 120, // 最大的运行帧率\n        // pixelSnap: false // 是否对齐像素，避免图片存在浮点坐标导致模糊\n    }\n\n    public autoLayout?: IAutoBounds\n    public lazyBounds: IBounds\n\n    public get FPS(): number { return this.renderer ? this.renderer.FPS : 60 }\n    public get cursorPoint(): IPointData { return (this.interaction && this.interaction.hoverData) || { x: this.width / 2, y: this.height / 2 } }\n    public get clientBounds(): IBoundsData { return (this.canvas && this.canvas.getClientBounds(true)) || getBoundsData() }\n    public leafs = 0\n\n    public __eventIds: IEventListenerId[] = []\n    protected __startTimer: ITimer\n    protected __controllers: IControl[] = []\n\n    protected __initWait: IFunction[] // assign in waitInit()\n    protected __readyWait: IFunction[] = []\n    protected __viewReadyWait: IFunction[] = []\n    protected __viewCompletedWait: IFunction[] = []\n    public __nextRenderWait: IFunction[] = []\n\n    constructor(userConfig?: ILeaferConfig, data?: ILeaferInputData) {\n        super(data)\n        this.userConfig = userConfig\n        if (userConfig && (userConfig.view || userConfig.width)) this.init(userConfig)\n        Leafer.list.add(this)\n    }\n\n    public init(userConfig?: ILeaferConfig, parentApp?: IApp): void {\n        if (this.canvas) return\n\n        let start: boolean\n        const { config } = this\n\n        this.__setLeafer(this)\n\n        if (parentApp) {\n            this.parentApp = parentApp\n            this.__bindApp(parentApp)\n            start = parentApp.running\n        }\n\n        if (userConfig) {\n            this.parent = parentApp\n            this.initType(userConfig.type) // LeaferType\n            this.parent = undefined\n            DataHelper.assign(config, userConfig)\n        }\n\n        // render / layout\n        const canvas = this.canvas = Creator.canvas(config)\n        this.__controllers.push(\n            this.renderer = Creator.renderer(this, canvas, config),\n            this.watcher = Creator.watcher(this, config),\n            this.layouter = Creator.layouter(this, config)\n        )\n\n        if (this.isApp) this.__setApp()\n        this.__checkAutoLayout()\n\n        // interaction / manager\n        if (!parentApp) {\n            this.selector = Creator.selector(this)\n            this.interaction = Creator.interaction(this, canvas, this.selector, config)\n\n            if (this.interaction) {\n                this.__controllers.unshift(this.interaction)\n                this.hitCanvasManager = Creator.hitCanvasManager()\n            }\n\n            this.canvasManager = new CanvasManager()\n\n            start = config.start\n        }\n\n        this.hittable = config.hittable\n        this.fill = config.fill\n        this.canvasManager.add(canvas)\n\n\n        this.__listenEvents()\n\n        if (start) this.__startTimer = setTimeout(this.start.bind(this))\n\n        WaitHelper.run(this.__initWait)\n        this.onInit() // can rewrite init event\n    }\n\n    public onInit(): void { }\n\n    public initType(_type: ILeaferType): void { } // rewrite in @leafer-ui/viewport\n\n    public set(data: IUIInputData, transition?: ITransition | 'temp'): void {\n        this.waitInit(() => { super.set(data, transition) })\n    }\n\n    public start(): void {\n        clearTimeout(this.__startTimer)\n        if (!this.running && this.canvas) {\n            this.running = true\n            this.ready ? this.emitLeafer(LeaferEvent.RESTART) : this.emitLeafer(LeaferEvent.START)\n            this.__controllers.forEach(item => item.start())\n            if (!this.isApp) this.renderer.render()\n        }\n    }\n\n    public stop(): void {\n        clearTimeout(this.__startTimer)\n        if (this.running && this.canvas) {\n            this.__controllers.forEach(item => item.stop())\n            this.running = false\n            this.emitLeafer(LeaferEvent.STOP)\n        }\n    }\n\n    public unlockLayout(): void {\n        this.layouter.start()\n        this.updateLayout()\n    }\n\n    public lockLayout(): void {\n        this.updateLayout()\n        this.layouter.stop()\n    }\n\n    public resize(size: IScreenSizeData): void {\n        const data = DataHelper.copyAttrs({}, size, canvasSizeAttrs)\n        Object.keys(data).forEach(key => (this as any)[key] = data[key])\n    }\n\n    override forceRender(bounds?: IBoundsData, sync?: boolean): void {\n        const { renderer } = this\n        if (renderer) {\n            renderer.addBlock(bounds ? new Bounds(bounds) : this.canvas.bounds)\n            if (this.viewReady) sync ? renderer.render() : renderer.update()\n        }\n    }\n\n    public requestRender(change = false): void {\n        if (this.renderer) this.renderer.update(change)\n    }\n\n    public updateCursor(cursor?: ICursorType): void {\n        const i = this.interaction\n        if (i) cursor ? i.setCursor(cursor) : i.updateCursor()\n    }\n\n    public updateLazyBounds(): void {\n        this.lazyBounds = this.canvas.bounds.clone().spread(this.config.lazySpeard)\n    }\n\n    protected __doResize(size: IScreenSizeData): void {\n        const { canvas } = this\n        if (!canvas || canvas.isSameSize(size)) return\n        const old = DataHelper.copyAttrs({}, this.canvas, canvasSizeAttrs) as IScreenSizeData\n        canvas.resize(size)\n        this.updateLazyBounds()\n        this.__onResize(new ResizeEvent(size, old))\n    }\n\n    protected __onResize(event: IResizeEvent): void {\n        this.emitEvent(event)\n        DataHelper.copyAttrs(this.__, event, canvasSizeAttrs)\n        setTimeout(() => { if (this.canvasManager) this.canvasManager.clearRecycled() }, 0)\n    }\n\n    protected __setApp(): void { }\n\n    protected __bindApp(app: IApp): void {\n        this.selector = app.selector\n        this.interaction = app.interaction\n\n        this.canvasManager = app.canvasManager\n        this.hitCanvasManager = app.hitCanvasManager\n    }\n\n    public __setLeafer(leafer: ILeafer): void {\n        this.leafer = leafer\n        this.__level = 1\n    }\n\n    protected __checkAutoLayout(): void {\n        const { config, parentApp } = this\n        if (!parentApp) {\n            if (!config.width || !config.height) this.autoLayout = new AutoBounds(config)\n            this.canvas.startAutoLayout(this.autoLayout, this.__onResize.bind(this))\n        }\n    }\n\n    override __setAttr(attrName: string, newValue: IValue): boolean {\n        if (this.canvas) {\n            if (canvasSizeAttrs.includes(attrName)) {\n                // if (!newValue) debug.warn(attrName + ' is 0')\n                this.__changeCanvasSize(attrName as ICanvasSizeAttr, newValue as number)\n            } else if (attrName === 'fill') {\n                this.__changeFill(newValue as string)\n            } else if (attrName === 'hittable') {\n                if (!this.parent) this.canvas.hittable = newValue as boolean\n            } else if (attrName === 'zIndex') {\n                this.canvas.zIndex = newValue as any\n                setTimeout(() => this.parent && this.parent.__updateSortChildren())\n            } else if (attrName === 'mode') this.emit(LeaferEvent.UPDATE_MODE, { mode: newValue })\n        }\n        return super.__setAttr(attrName, newValue)\n    }\n\n    override __getAttr(attrName: string): IValue {\n        if (this.canvas && canvasSizeAttrs.includes(attrName)) return this.canvas[attrName]\n        return super.__getAttr(attrName)\n    }\n\n    protected __changeCanvasSize(attrName: ICanvasSizeAttr, newValue: number): void {\n        const { config, canvas } = this\n        const data = DataHelper.copyAttrs({}, canvas, canvasSizeAttrs)\n        data[attrName] = config[attrName] = newValue\n        config.width && config.height ? canvas.stopAutoLayout() : this.__checkAutoLayout()\n        this.__doResize(data as IScreenSizeData)\n    }\n\n    protected __changeFill(newValue: string): void {\n        this.config.fill = newValue as string\n        if (this.canvas.allowBackgroundColor) this.canvas.backgroundColor = newValue as string\n        else this.forceRender()\n    }\n\n    protected __onCreated(): void {\n        this.created = true\n    }\n\n    protected __onReady(): void {\n        this.ready = true\n        this.emitLeafer(LeaferEvent.BEFORE_READY)\n        this.emitLeafer(LeaferEvent.READY)\n        this.emitLeafer(LeaferEvent.AFTER_READY)\n        WaitHelper.run(this.__readyWait)\n    }\n\n    protected __onViewReady(): void {\n        if (this.viewReady) return\n        this.viewReady = true\n        this.emitLeafer(LeaferEvent.VIEW_READY)\n        WaitHelper.run(this.__viewReadyWait)\n    }\n\n    protected __onLayoutEnd(): void {\n        const { grow, width: fixedWidth, height: fixedHeight } = this.config\n        if (grow) {\n            let { width, height, pixelRatio } = this\n            const bounds = grow === 'box' ? this.worldBoxBounds : this.__world\n            if (!fixedWidth) width = Math.max(1, bounds.x + bounds.width)\n            if (!fixedHeight) height = Math.max(1, bounds.y + bounds.height)\n            this.__doResize({ width, height, pixelRatio })\n        }\n\n        if (!this.ready) this.__onReady()\n    }\n\n    protected __onNextRender(): void {\n        if (this.viewReady) {\n            WaitHelper.run(this.__nextRenderWait)\n\n            const { imageReady } = this\n            if (imageReady && !this.viewCompleted) this.__checkViewCompleted()\n            if (!imageReady) {\n                this.viewCompleted = false\n                this.requestRender()\n            }\n        } else this.requestRender() // fix: 小程序等需要异步获取 view 的情况\n    }\n\n    protected __checkViewCompleted(emit: boolean = true): void {\n        this.nextRender(() => {\n            if (this.imageReady) {\n                if (emit) this.emitLeafer(LeaferEvent.VIEW_COMPLETED)\n                WaitHelper.run(this.__viewCompletedWait)\n                this.viewCompleted = true\n            }\n        })\n    }\n\n    protected __onWatchData(): void {\n        if (this.watcher.childrenChanged && this.interaction) {\n            this.nextRender(() => this.interaction.updateCursor())\n        }\n    }\n\n    public waitInit(item: IFunction, bind?: IObject): void {\n        if (bind) item = item.bind(bind)\n        if (!this.__initWait) this.__initWait = [] // set() use\n        this.canvas ? item() : this.__initWait.push(item)\n    }\n\n    public waitReady(item: IFunction, bind?: IObject): void {\n        if (bind) item = item.bind(bind)\n        this.ready ? item() : this.__readyWait.push(item)\n    }\n\n    public waitViewReady(item: IFunction, bind?: IObject): void {\n        if (bind) item = item.bind(bind)\n        this.viewReady ? item() : this.__viewReadyWait.push(item)\n    }\n\n    public waitViewCompleted(item: IFunction, bind?: IObject): void {\n        if (bind) item = item.bind(bind)\n        this.__viewCompletedWait.push(item)\n        if (this.viewCompleted) this.__checkViewCompleted(false)\n        else if (!this.running) this.start()\n    }\n\n    public nextRender(item: IFunction, bind?: IObject, off?: 'off'): void {\n        if (bind) item = item.bind(bind)\n        const list = this.__nextRenderWait\n        if (off) {\n            for (let i = 0; i < list.length; i++) {\n                if (list[i] === item) { list.splice(i, 1); break }\n            }\n        } else list.push(item)\n        this.requestRender()\n    }\n\n    // need view plugin\n    public zoom(_zoomType: IZoomType, _optionsOrPadding?: IZoomOptions | IFourNumber, _scroll?: 'x' | 'y' | boolean, _transition?: ITransition): IBoundsData {\n        return Plugin.need('view')\n    }\n\n\n    // interaction window rewrite\n    public getValidMove(moveX: number, moveY: number, _checkLimit?: boolean): IPointData { return { x: moveX, y: moveY } }\n    public getValidScale(changeScale: number): number { return changeScale }\n\n\n    public getWorldPointByClient(clientPoint: IClientPointData, updateClient?: boolean): IPointData {\n        return this.interaction && this.interaction.getLocal(clientPoint, updateClient)\n    }\n\n    public getPagePointByClient(clientPoint: IClientPointData, updateClient?: boolean): IPointData {\n        return this.getPagePoint(this.getWorldPointByClient(clientPoint, updateClient))\n    }\n\n    public getClientPointByWorld(worldPoint: IPointData): IPointData {\n        const { x, y } = this.clientBounds\n        return { x: x + worldPoint.x, y: y + worldPoint.y }\n    }\n\n    public updateClientBounds(): void {\n        this.canvas && this.canvas.updateClientBounds()\n    }\n\n    // miniapp rewrite\n    public receiveEvent(_event: any): void { }\n\n    protected emitLeafer(type: string): void {\n        this.emitEvent(new LeaferEvent(type, this))\n    }\n\n    protected __listenEvents(): void {\n        const runId = Run.start('FirstCreate ' + this.innerName)\n        this.once([\n            [LeaferEvent.START, () => Run.end(runId)],\n            [LayoutEvent.START, this.updateLazyBounds, this],\n            [RenderEvent.START, this.__onCreated, this],\n            [RenderEvent.END, this.__onViewReady, this]\n        ])\n        this.__eventIds.push(\n            this.on_([\n                [WatchEvent.DATA, this.__onWatchData, this],\n                [LayoutEvent.END, this.__onLayoutEnd, this],\n                [RenderEvent.NEXT, this.__onNextRender, this]\n            ])\n        )\n    }\n\n    protected __removeListenEvents(): void {\n        this.off_(this.__eventIds)\n    }\n\n    override destroy(sync?: boolean): void {\n        const doDestory = () => {\n            if (!this.destroyed) {\n                Leafer.list.remove(this)\n                try {\n                    this.stop()\n                    this.emitLeafer(LeaferEvent.END)\n                    this.__removeListenEvents()\n\n                    this.__controllers.forEach(item => !(this.parent && item === this.interaction) && item.destroy())\n                    this.__controllers.length = 0\n\n                    if (!this.parent) {\n                        if (this.selector) this.selector.destroy()\n                        if (this.hitCanvasManager) this.hitCanvasManager.destroy()\n                        if (this.canvasManager) this.canvasManager.destroy()\n                    }\n\n                    if (this.canvas) this.canvas.destroy()\n\n                    this.config.view = this.parentApp = null\n                    if (this.userConfig) this.userConfig.view = null\n\n                    super.destroy()\n\n                    setTimeout(() => { ImageManager.clearRecycled() }, 100)\n                } catch (e) {\n                    debug.error(e)\n                }\n            }\n        }\n        sync ? doDestory() : setTimeout(doDestory)\n    }\n}\n","import { dataProcessor, registerUI, rewriteAble, useModule } from '@leafer/core'\n\nimport { IRect, IRectInputData, IRectData } from '@leafer-ui/interface'\nimport { RectData } from '@leafer-ui/data'\nimport { RectRender } from '@leafer-ui/display-module'\n\nimport { UI } from './UI'\n\n\n@useModule(RectRender)\n@rewriteAble()\n@registerUI()\nexport class Rect<TInputData = IRectInputData> extends UI<TInputData> implements IRect { // tip: rewrited Box\n\n    public get __tag() { return 'Rect' }\n\n    @dataProcessor(RectData)\n    declare public __: IRectData\n\n}","import { ILeaferCanvas, IRenderOptions, IBoolean, INumber, IScrollPointData, IFourNumber } from '@leafer/interface'\nimport { rewrite, rewriteAble, registerUI, BoundsHelper, dataProcessor, affectRenderBoundsType, dataType, boundsType, DataHelper, getBoundsData } from '@leafer/core'\n\nimport { IBox, IBoxData, IBoxInputData, IOverflow, IScrollConfig, IScroller } from '@leafer-ui/interface'\nimport { BoxData } from '@leafer-ui/data'\n\nimport { Group } from './Group'\nimport { Rect } from './Rect'\n\n\nconst { add, includes, scroll } = BoundsHelper\nconst rect = Rect.prototype, group = Group.prototype\n\n@rewriteAble()\n@registerUI()\nexport class Box<TInputData = IBoxInputData> extends Group<TInputData> implements IBox {\n\n    public get __tag() { return 'Box' }\n\n    public get isBranchLeaf(): boolean { return true }\n\n    @dataProcessor(BoxData)\n    declare public __: IBoxData\n\n    // size\n    @boundsType(100)\n    declare public width?: INumber\n\n    @boundsType(100)\n    declare public height?: INumber\n\n    @dataType(false)\n    public resizeChildren?: IBoolean\n\n    // @leafer-in/editor rewrite\n    public textBox?: IBoolean\n\n    @affectRenderBoundsType('show')\n    declare public overflow?: IOverflow\n\n    public isOverflow?: boolean\n\n    // scroller will rewrite\n    public scrollConfig?: IScrollConfig\n\n    public scroller?: IScroller\n    public hasScroller?: boolean\n\n    constructor(data?: TInputData) {\n        super(data)\n        this.__layout.renderChanged || this.__layout.renderChange()\n    }\n\n    @rewrite(rect.__updateStrokeSpread)\n    public __updateStrokeSpread(): IFourNumber { return 0 }\n\n    @rewrite(rect.__updateRenderSpread)\n    public __updateRectRenderSpread(): IFourNumber { return 0 }\n\n    public __updateRenderSpread(): IFourNumber { return this.__updateRectRenderSpread() || -1 }\n\n\n    @rewrite(rect.__updateBoxBounds)\n    public __updateRectBoxBounds(): void { }\n\n\n    // @leafer-in/flow will rewrite\n    public __updateBoxBounds(_secondLayout?: boolean): void {\n        if (this.children.length && !this.pathInputed) {\n\n            const data = this.__\n\n            if (data.__autoSide) {\n\n                if (data.__hasSurface) this.__extraUpdate() // Box自身存在样式，需要额外更新\n\n                super.__updateBoxBounds()\n\n                const { boxBounds } = this.__layout\n\n                if (!data.__autoSize) {\n                    if (data.__autoWidth) {\n                        boxBounds.width += boxBounds.x, boxBounds.x = 0\n                        boxBounds.height = data.height, boxBounds.y = 0\n                    } else {\n                        boxBounds.height += boxBounds.y, boxBounds.y = 0\n                        boxBounds.width = data.width, boxBounds.x = 0\n                    }\n                }\n\n                this.__updateNaturalSize()\n\n            } else this.__updateRectBoxBounds()\n\n        } else this.__updateRectBoxBounds()\n    }\n\n    @rewrite(rect.__updateStrokeBounds)\n    public __updateStrokeBounds(): void { }\n\n    public __updateRenderBounds(): void {\n        let isOverflow: boolean, isScrollMode: boolean\n\n        if (this.children.length) {\n            const data = this.__, layout = this.__layout, { renderBounds, boxBounds } = layout, { overflow } = data\n\n            const childrenRenderBounds = layout.childrenRenderBounds || (layout.childrenRenderBounds = getBoundsData())\n            super.__updateRenderBounds(childrenRenderBounds)\n\n            if (isScrollMode = overflow && overflow.includes('scroll')) {  // 检查滚动逻辑\n                add(childrenRenderBounds, boxBounds)\n                scroll(childrenRenderBounds, data as IScrollPointData)\n            }\n\n            this.__updateRectRenderBounds()\n\n            isOverflow = !includes(boxBounds, childrenRenderBounds)\n            if (isOverflow && overflow === 'show') add(renderBounds, childrenRenderBounds)\n        } else this.__updateRectRenderBounds()\n\n        DataHelper.stintSet(this, 'isOverflow', isOverflow)\n\n        this.__checkScroll(isScrollMode)\n    }\n\n    @rewrite(rect.__updateRenderBounds)\n    public __updateRectRenderBounds(): void { }\n\n\n    //  scroller will rewrite\n    public __checkScroll(_isScrollMode: boolean): void { }\n\n\n    @rewrite(rect.__updateChange)\n    public __updateRectChange(): void { }\n\n    public __updateChange(): void {\n        super.__updateChange()\n        this.__updateRectChange()\n    }\n\n\n    @rewrite(rect.__render)\n    public __renderRect(_canvas: ILeaferCanvas, _options: IRenderOptions): void { }\n\n    @rewrite(group.__render)\n    public __renderGroup(_canvas: ILeaferCanvas, _options: IRenderOptions): void { }\n\n\n    public __render(canvas: ILeaferCanvas, options: IRenderOptions): void {\n        if (this.__.__drawAfterFill) {\n            this.__renderRect(canvas, options)\n        } else {\n            this.__renderRect(canvas, options)\n            if (this.children.length) this.__renderGroup(canvas, options)\n        }\n        if (this.hasScroller) this.scroller.__render(canvas, options)\n    }\n\n    // in __drawAfterFill()\n    public __drawContent(canvas: ILeaferCanvas, options: IRenderOptions): void {\n        this.__renderGroup(canvas, options)\n\n        if (this.__.__useStroke || this.__.__useEffect) { // 还原绘制路径\n            canvas.setWorld(this.__nowWorld)\n            this.__drawRenderPath(canvas)\n        }\n    }\n\n}\n","import { dataProcessor, registerUI, affectRenderBoundsType, surfaceType } from '@leafer/core'\n\nimport { IFrame, IFrameData, IFrameInputData, IFill, IOverflow } from '@leafer-ui/interface'\nimport { FrameData } from '@leafer-ui/data'\n\nimport { Box } from './Box'\n\n\n@registerUI()\nexport class Frame<TInputData = IFrameInputData> extends Box<TInputData> implements IFrame {\n\n    public get __tag() { return 'Frame' }\n\n    public get isFrame(): boolean { return true }\n\n    @dataProcessor(FrameData)\n    declare public __: IFrameData\n\n    @surfaceType('#FFFFFF')\n    declare public fill?: IFill\n\n    @affectRenderBoundsType('hide')\n    declare public overflow?: IOverflow\n\n}\n","import { INumber } from '@leafer/interface'\nimport { PathCommandDataHelper, Platform, dataProcessor, pathType, registerUI } from '@leafer/core'\n\nimport { IEllipse, IEllipseInputData, IEllipseData } from '@leafer-ui/interface'\nimport { EllipseData } from '@leafer-ui/data'\n\nimport { UI } from './UI'\n\n\nconst { moveTo, closePath, ellipse } = PathCommandDataHelper\n\n@registerUI()\nexport class Ellipse<TInputData = IEllipseInputData> extends UI<TInputData> implements IEllipse {\n\n    public get __tag() { return 'Ellipse' }\n\n    @dataProcessor(EllipseData)\n    declare public __: IEllipseData\n\n    @pathType(0)\n    public innerRadius?: INumber\n\n    @pathType(0)\n    public startAngle?: INumber\n\n    @pathType(0)\n    public endAngle?: INumber\n\n\n    public __updatePath(): void {\n\n        const { width, height, innerRadius, startAngle, endAngle } = this.__\n        const rx = width / 2, ry = height / 2\n\n        const path: number[] = this.__.path = []\n        let open: boolean\n\n        if (innerRadius) {\n\n            if (startAngle || endAngle) {\n                if (innerRadius < 1) ellipse(path, rx, ry, rx * innerRadius, ry * innerRadius, 0, startAngle, endAngle, false)\n                else open = true // 画弧线时，不能闭合路径\n                ellipse(path, rx, ry, rx, ry, 0, endAngle, startAngle, true)\n            } else {\n                if (innerRadius < 1) {\n                    ellipse(path, rx, ry, rx * innerRadius, ry * innerRadius)\n                    moveTo(path, width, ry)\n                }\n                ellipse(path, rx, ry, rx, ry, 0, 360, 0, true)\n            }\n\n        } else {\n\n            if (startAngle || endAngle) {\n                moveTo(path, rx, ry)\n                ellipse(path, rx, ry, rx, ry, 0, startAngle, endAngle, false)\n            } else {\n                ellipse(path, rx, ry, rx, ry)\n            }\n\n        }\n\n        if (!open) closePath(path)\n\n        // fix node\n        if (Platform.ellipseToCurve) this.__.path = this.getPath(true)\n\n    }\n\n}","import { INumber, IPointData } from '@leafer/interface'\nimport { PathCommandDataHelper, dataProcessor, pathType, registerUI, rewriteAble } from '@leafer/core'\n\nimport { IPolygon, IPolygonData, IPolygonInputData } from '@leafer-ui/interface'\nimport { PolygonData } from '@leafer-ui/data'\n\nimport { UI } from './UI'\n\n\nconst { sin, cos, PI } = Math\nconst { moveTo, lineTo, closePath, drawPoints } = PathCommandDataHelper\n\n@rewriteAble()\n@registerUI()\nexport class Polygon<TInputData = IPolygonInputData> extends UI<TInputData> implements IPolygon {\n\n    public get __tag() { return 'Polygon' }\n\n    @dataProcessor(PolygonData)\n    declare public __: IPolygonData\n\n    @pathType(3)\n    public sides?: INumber\n\n    @pathType()\n    public points?: number[] | IPointData[]\n\n    @pathType(0)\n    public curve?: boolean | number\n\n\n    public __updatePath(): void {\n\n        const data = this.__\n        const path: number[] = data.path = []\n\n        if (data.points) {\n\n            drawPoints(path, data.points, data.curve, true)\n\n        } else {\n\n            const { width, height, sides } = data\n            const rx = width / 2, ry = height / 2\n\n            moveTo(path, rx, 0)\n\n            for (let i = 1; i < sides; i++) {\n                lineTo(path, rx + rx * sin((i * 2 * PI) / sides), ry - ry * cos((i * 2 * PI) / sides))\n            }\n\n            closePath(path)\n\n        }\n\n    }\n\n}","import { INumber } from '@leafer/interface'\nimport { PathCommandDataHelper, dataProcessor, pathType, registerUI } from '@leafer/core'\n\nimport { IStar, IStarData, IStarInputData } from '@leafer-ui/interface'\nimport { StarData } from '@leafer-ui/data'\n\nimport { UI } from './UI'\n\n\nconst { sin, cos, PI } = Math\nconst { moveTo, lineTo, closePath } = PathCommandDataHelper\n\n\n@registerUI()\nexport class Star<TInputData = IStarInputData> extends UI<TInputData> implements IStar {\n\n    public get __tag() { return 'Star' }\n\n    @dataProcessor(StarData)\n    declare public __: IStarData\n\n    @pathType(5)\n    public corners?: INumber\n\n    @pathType(0.382)\n    public innerRadius?: INumber\n\n\n    public __updatePath() {\n\n        const { width, height, corners, innerRadius } = this.__\n        const rx = width / 2, ry = height / 2\n\n        const path: number[] = this.__.path = []\n        moveTo(path, rx, 0)\n\n        for (let i = 1; i < corners * 2; i++) {\n            lineTo(path, rx + (i % 2 === 0 ? rx : rx * innerRadius) * sin((i * PI) / corners), ry - (i % 2 === 0 ? ry : ry * innerRadius) * cos((i * PI) / corners))\n        }\n\n        closePath(path)\n\n    }\n\n}","import { IPointData, INumber } from '@leafer/interface'\nimport { PathCommandDataHelper, PointHelper, boundsType, pathType, affectStrokeBoundsType, dataProcessor, registerUI, getPointData } from '@leafer/core'\n\nimport { ILine, ILineData, ILineInputData, IStrokeAlign } from '@leafer-ui/interface'\nimport { LineData } from '@leafer-ui/data'\n\nimport { UI } from './UI'\n\n\nconst { moveTo, lineTo, drawPoints } = PathCommandDataHelper\nconst { rotate, getAngle, getDistance, defaultPoint } = PointHelper\n\n\n@registerUI()\nexport class Line<TInputData = ILineInputData> extends UI<TInputData> implements ILine {\n\n    public get __tag() { return 'Line' }\n\n    @dataProcessor(LineData)\n    declare public __: ILineData\n\n    @affectStrokeBoundsType('center')\n    declare public strokeAlign?: IStrokeAlign\n\n    @boundsType(0)\n    declare public height?: INumber\n\n    @pathType()\n    public points?: number[] | IPointData[]\n\n    @pathType(0)\n    public curve?: boolean | number\n\n    @pathType(false)\n    declare public closed?: boolean\n\n    public get toPoint(): IPointData {\n        const { width, rotation } = this.__\n        const to: IPointData = getPointData()\n\n        if (width) to.x = width\n        if (rotation) rotate(to, rotation)\n\n        return to\n    }\n\n    public set toPoint(value: IPointData) {\n        this.width = getDistance(defaultPoint, value)\n        this.rotation = getAngle(defaultPoint, value)\n        if (this.height) this.height = 0\n    }\n\n\n    public __updatePath(): void {\n\n        const data = this.__\n        const path: number[] = data.path = []\n\n        if (data.points) {\n\n            drawPoints(path, data.points, data.curve, data.closed)\n\n        } else {\n\n            moveTo(path, 0, 0)\n            lineTo(path, this.width, 0)\n        }\n\n    }\n\n}","import { ILeaferImage, IString } from '@leafer/interface'\nimport { boundsType, dataProcessor, registerUI, isArray } from '@leafer/core'\n\nimport { IImage, IImageInputData, IImageData } from '@leafer-ui/interface'\nimport { ImageData } from '@leafer-ui/data'\n\nimport { Rect } from './Rect'\n\n\n@registerUI()\nexport class Image<TInputData = IImageInputData> extends Rect<TInputData> implements IImage {\n\n    public get __tag() { return 'Image' }\n\n    @dataProcessor(ImageData)\n    declare public __: IImageData\n\n    @boundsType('')\n    public url: IString\n\n    public get ready(): boolean { const { image } = this; return image && image.ready }\n\n    public get image(): ILeaferImage { const { fill } = this.__; return isArray(fill) && fill[0].image }\n\n}\n\nexport const MyImage = Image","import { ILeaferCanvas, ILeaferCanvasConfig, INumber, IRenderOptions, IPointData, ICanvasContext2D, ICanvasContext2DSettings, IScreenSizeData } from '@leafer/interface'\nimport { Creator, ImageEvent, LeaferImage, Matrix, dataProcessor, dataType, registerUI, isNumber } from '@leafer/core'\n\nimport { ICanvas, ICanvasData, ICanvasInputData, IUI } from '@leafer-ui/interface'\nimport { CanvasData } from '@leafer-ui/data'\nimport { resizeType } from '@leafer-ui/decorator'\n\nimport { Rect } from './Rect'\n\n\n@registerUI()\nexport class Canvas<TInputData = ICanvasInputData> extends Rect<TInputData> implements ICanvas {\n\n    public get __tag() { return 'Canvas' }\n\n    @dataProcessor(CanvasData)\n    declare public __: ICanvasData\n\n    @resizeType(100)\n    declare public width?: INumber\n\n    @resizeType(100)\n    declare public height?: INumber\n\n    @resizeType(1)\n    declare public pixelRatio?: INumber\n\n    @resizeType(true)\n    public smooth?: boolean\n\n    @dataType(false)\n    public safeResize?: boolean\n\n    @resizeType()\n    public contextSettings?: ICanvasContext2DSettings\n\n    public canvas?: ILeaferCanvas\n\n    public get context(): ICanvasContext2D { return this.canvas.context }\n\n    public get ready(): boolean { return !this.url }\n\n    public url?: string // 用于临时加载canvas的base64数据，完成后会置空\n\n    constructor(data?: TInputData) {\n        super(data)\n        this.canvas = Creator.canvas(this.__ as ILeaferCanvasConfig)\n        if (data && (data as ICanvasInputData).url) this.drawImage((data as ICanvasInputData).url)\n    }\n\n    public drawImage(url: string): void {\n        new LeaferImage({ url }).load((image: LeaferImage) => {\n            this.context.drawImage(image.view, 0, 0)\n            this.url = undefined\n            this.paint()\n            this.emitEvent(new ImageEvent(ImageEvent.LOADED, { image }))\n        })\n    }\n\n    public draw(ui: IUI, offset?: IPointData, scale?: number | IPointData, rotation?: number): void {\n        const matrix = new Matrix(ui.worldTransform).invert()\n\n        const m = new Matrix()\n        if (offset) m.translate(offset.x, offset.y)\n        if (scale) isNumber(scale) ? m.scale(scale) : m.scale(scale.x, scale.y)\n        if (rotation) m.rotate(rotation)\n        matrix.multiplyParent(m)\n\n        ui.__render(this.canvas, { matrix: matrix.withScale() })\n        this.paint()\n    }\n\n    public paint(): void {\n        this.forceRender()\n    }\n\n    // in __drawAfterFill()\n    public __drawContent(canvas: ILeaferCanvas, _options: IRenderOptions): void {\n        const { width, height } = this.__, { view } = this.canvas\n        canvas.drawImage(view, 0, 0, view.width, view.height, 0, 0, width, height)\n    }\n\n    public __updateSize(): void {\n        const { canvas } = this\n        if (canvas) {\n            const { smooth, safeResize } = this.__\n            canvas.resize(this.__ as IScreenSizeData, safeResize)\n            if (canvas.smooth !== smooth) canvas.smooth = smooth\n        }\n    }\n\n    public destroy(): void {\n        if (this.canvas) {\n            this.canvas.destroy()\n            this.canvas = null\n        }\n        super.destroy()\n    }\n\n}","import { ILeaferCanvas, IBoolean, INumber, IString, IBoundsData, IUnitData, IRenderOptions, IFourNumber } from '@leafer/interface'\nimport { BoundsHelper, boundsType, surfaceType, dataProcessor, registerUI, affectStrokeBoundsType, dataType, hitType, MathHelper, DataHelper } from '@leafer/core'\n\nimport { IFill, IText, IFontWeight, ITextCase, ITextDecoration, ITextData, ITextInputData, ITextAlign, IVerticalAlign, ITextDrawData, ITextOverflow, IStrokeAlign, IHitType, ITextWrap, IWritingMode, IBackgroundBoxStyle } from '@leafer-ui/interface'\nimport { TextData } from '@leafer-ui/data'\n\nimport { TextConvert, UnitConvert } from '@leafer-ui/external'\n\nimport { UI } from './UI'\n\n\nconst { copyAndSpread, includes, spread, setList } = BoundsHelper, { stintSet } = DataHelper\n\n@registerUI()\nexport class Text<TConstructorData = ITextInputData> extends UI<TConstructorData> implements IText {\n\n    public get __tag() { return 'Text' }\n\n    @dataProcessor(TextData)\n    declare public __: ITextData\n\n    // size\n    @boundsType(0)\n    declare public width?: INumber\n\n    @boundsType(0)\n    declare public height?: INumber\n\n    @surfaceType()\n    public boxStyle: IBackgroundBoxStyle\n\n    @dataType(false)\n    public resizeFontSize?: IBoolean\n\n    @surfaceType('#000000')\n    declare public fill?: IFill\n\n    @affectStrokeBoundsType('outside')\n    declare public strokeAlign?: IStrokeAlign\n\n    @hitType('all')\n    declare public hitFill?: IHitType\n\n    @boundsType('')\n    public text?: IString | INumber\n\n    @boundsType('')\n    public placeholder?: IString\n\n    @boundsType('caption')\n    public fontFamily?: IString\n\n    @boundsType(12)\n    public fontSize?: INumber\n\n    @boundsType('normal')\n    public fontWeight?: IFontWeight\n\n    @boundsType(false)\n    public italic?: IBoolean\n\n    @boundsType('none')\n    public textCase?: ITextCase\n\n    @boundsType('none')\n    public textDecoration?: ITextDecoration\n\n    @boundsType(0)\n    public letterSpacing?: INumber | IUnitData\n\n    @boundsType({ type: 'percent', value: 1.5 } as IUnitData)\n    public lineHeight?: INumber | IUnitData\n\n    @boundsType(0)\n    public paraIndent?: INumber\n\n    @boundsType(0)\n    public paraSpacing?: INumber\n\n    @boundsType('x')\n    public writingMode?: IWritingMode\n\n    @boundsType('left')\n    public textAlign?: ITextAlign\n\n    @boundsType('top')\n    public verticalAlign?: IVerticalAlign\n\n    @boundsType(true)\n    public autoSizeAlign?: IBoolean\n\n    @boundsType('normal')\n    public textWrap?: ITextWrap\n\n    @boundsType('show')\n    public textOverflow?: ITextOverflow\n\n    @surfaceType(false)\n    public textEditing: boolean\n\n    public isOverflow: boolean\n\n    public get textDrawData(): ITextDrawData { this.updateLayout(); return this.__.__textDrawData }\n\n\n    public __updateTextDrawData(): void {\n        const data = this.__\n        const { lineHeight, letterSpacing, fontFamily, fontSize, fontWeight, italic, textCase, textOverflow, padding, width, height } = data\n\n        data.__lineHeight = UnitConvert.number(lineHeight, fontSize)\n        data.__letterSpacing = UnitConvert.number(letterSpacing, fontSize)\n        data.__baseLine = data.__lineHeight - (data.__lineHeight - fontSize * 0.7) / 2 // 基线位置\n        data.__font = `${italic ? 'italic ' : ''}${textCase === 'small-caps' ? 'small-caps ' : ''}${fontWeight !== 'normal' ? fontWeight + ' ' : ''}${fontSize || 12}px ${fontFamily || 'caption'}`\n\n        stintSet(data, '__padding', padding && MathHelper.fourNumber(padding))\n        stintSet(data, '__clipText', textOverflow !== 'show' && !data.__autoSize)\n        stintSet(data, '__isCharMode', (width || height || data.__letterSpacing || (textCase !== 'none')) as boolean)\n\n        data.__textDrawData = TextConvert.getDrawData((data.__isPlacehold = data.placeholder && data.text === '') ? data.placeholder : data.text, this.__)\n    }\n\n    override __updateBoxBounds(): void {\n\n        const data = this.__\n        const layout = this.__layout\n        const { fontSize, italic, padding, __autoWidth: autoWidth, __autoHeight: autoHeight } = data\n\n        this.__updateTextDrawData() // layout text\n\n        const { bounds: contentBounds } = data.__textDrawData\n        const b = layout.boxBounds\n\n        layout.contentBounds = contentBounds\n\n        if (data.__lineHeight < fontSize) spread(contentBounds, fontSize / 2)\n\n        if (autoWidth || autoHeight) {\n            b.x = autoWidth ? contentBounds.x : 0\n            b.y = autoHeight ? contentBounds.y : 0\n            b.width = autoWidth ? contentBounds.width : data.width\n            b.height = autoHeight ? contentBounds.height : data.height\n\n            if (padding) {\n                const [top, right, bottom, left] = data.__padding\n                if (autoWidth) b.x -= left, b.width += (right + left)\n                if (autoHeight) b.y -= top, b.height += (bottom + top)\n            }\n            this.__updateNaturalSize()\n        } else super.__updateBoxBounds()\n\n        if (italic) b.width += fontSize * 0.16 // 倾斜会导致文本的bounds增大\n\n        DataHelper.stintSet(this, 'isOverflow', !includes(b, contentBounds))\n\n        if (this.isOverflow) setList(data.__textBoxBounds = {} as IBoundsData, [b, contentBounds]), layout.renderChanged = true\n        else data.__textBoxBounds = b\n    }\n\n    override __updateRenderSpread(): IFourNumber {\n        let spread = super.__updateRenderSpread()\n        if (!spread) spread = this.isOverflow ? 1 : 0\n        return spread\n    }\n\n    override __updateRenderBounds(): void {\n        const { renderBounds, renderSpread } = this.__layout\n        copyAndSpread(renderBounds, this.__.__textBoxBounds, renderSpread)\n        if (this.__box) this.__box.__layout.renderBounds = renderBounds\n    }\n\n    override __updateChange(): void {\n        super.__updateChange()\n        const box = this.__box\n        if (box) box.__onUpdateSize(), box.__updateChange()\n    }\n\n    override __drawRenderPath(canvas: ILeaferCanvas): void {\n        canvas.font = this.__.__font\n    }\n\n    override __draw(canvas: ILeaferCanvas, options: IRenderOptions, originCanvas?: ILeaferCanvas): void {\n        const box = this.__box\n        if (box) box.__nowWorld = this.__nowWorld, box.__draw(canvas, options, originCanvas)\n        if (this.textEditing && !options.exporting) return\n        super.__draw(canvas, options, originCanvas)\n    }\n\n    override  __drawShape(canvas: ILeaferCanvas, options: IRenderOptions): void {\n        if (options.shape) this.__box && this.__box.__drawShape(canvas, options)\n        super.__drawShape(canvas, options)\n    }\n\n    override destroy(): void {\n        if (this.boxStyle) this.boxStyle = null\n        super.destroy()\n    }\n\n}","import { dataProcessor, affectStrokeBoundsType, registerUI } from '@leafer/core'\n\nimport { IPath, IPathData, IPathInputData, IStrokeAlign } from '@leafer-ui/interface'\nimport { PathData } from '@leafer-ui/data'\n\nimport { UI } from './UI'\n\n\n@registerUI()\nexport class Path<TInputData = IPathInputData> extends UI<TInputData> implements IPath {\n\n    public get __tag() { return 'Path' }\n\n    @dataProcessor(PathData)\n    declare public __: IPathData\n\n    @affectStrokeBoundsType('center')\n    declare public strokeAlign?: IStrokeAlign\n\n}","import { PathCreator, dataProcessor, defineKey, registerUI, useModule } from '@leafer/core'\n\nimport { IPenData, IPenInputData, IPathInputData, IPathCommandData, IPath, IPen, IPointData } from '@leafer-ui/interface'\nimport { PenData } from '@leafer-ui/data'\n\nimport { Group } from './Group'\nimport { Path } from './Path'\n\n@useModule(PathCreator, ['set', 'path', 'paint'])\n@registerUI()\nexport class Pen<TInputData = IPenInputData> extends Group<TInputData> implements IPen {\n\n    public get __tag() { return 'Pen' }\n\n    @dataProcessor(PenData)\n    declare public __: IPenData\n\n    public pathElement: IPath\n    public pathStyle: IPathInputData\n\n    @penPathType()\n    declare public path: IPathCommandData // use __path, readonly\n\n    public __path: IPathCommandData\n\n\n    public setStyle(data: IPathInputData): Pen {\n        const path = this.pathElement = new Path(data)\n        this.pathStyle = data\n        this.__path = path.path as IPathCommandData || (path.path = [])\n        this.add(path)\n        return this\n    }\n\n    // svg and canvas\n\n    public beginPath(): Pen { return this }\n\n    public moveTo(_x: number, _y: number): Pen { return this }\n\n    public lineTo(_x: number, _y: number): Pen { return this }\n\n    public bezierCurveTo(_x1: number, _y1: number, _x2: number, _y2: number, _x: number, _y: number): Pen { return this }\n\n    public quadraticCurveTo(_x1: number, _y1: number, _x: number, _y: number): Pen { return this }\n\n    public closePath(): Pen { return this }\n\n\n    // canvas\n\n    public rect(_x: number, _y: number, _width: number, _height: number): Pen { return this }\n\n    public roundRect(_x: number, _y: number, _width: number, _height: number, _cornerRadius: number | number[]): Pen { return this }\n\n    public ellipse(_x: number, _y: number, _radiusX: number, _radiusY: number, _rotation?: number, _startAngle?: number, _endAngle?: number, _anticlockwise?: boolean): Pen { return this }\n\n    public arc(_x: number, _y: number, _radius: number, _startAngle?: number, _endAngle?: number, _anticlockwise?: boolean): Pen { return this }\n\n    public arcTo(_x1: number, _y1: number, _x2: number, _y2: number, _radius: number): Pen { return this }\n\n\n    // moveTo, then draw\n\n    public drawEllipse(_x: number, _y: number, _radiusX: number, _radiusY: number, _rotation?: number, _startAngle?: number, _endAngle?: number, _anticlockwise?: boolean): Pen { return this }\n\n    public drawArc(_x: number, _y: number, _radius: number, _startAngle?: number, _endAngle?: number, _anticlockwise?: boolean): Pen { return this }\n\n    public drawPoints(_points: number[] | IPointData[], _curve?: boolean | number, _close?: boolean): Pen { return this }\n\n    public clearPath(): Pen { return this } // = beginPath()\n\n\n    public paint(): void {\n        if (!this.pathElement.__layout.boxChanged) this.pathElement.forceUpdate('path')\n    }\n\n}\n\nfunction penPathType() {\n    return (target: IPen, key: string) => {\n        defineKey(target, key, {\n            get() { return this.__path }\n        })\n    }\n}"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","effectType","defaultValue","decorateLeafAttr","attr","set","value","this","__setAttr","__","__useEffect","__layout","renderChanged","renderChange","resizeType","boxChanged","boxChange","__updateSize","zoomLayerType","privateKey","defineKey","isLeafer","get","isApp","tree","zoomLayer","leafer","SuppressedError","TextConvert","ColorConvert","color","first","lastIndexOf","parseFloat","slice","UnitConvert","UnitConvertHelper","PathArrow","Paint","PaintImage","Effect","Filter","apply","Plugin","need","Export","State","setStyleName","Transition","list","register","attrName","fn","parse","objectToCanvasData","PathConvert","stintSet","DataHelper","hasTransparent","emptyPaint","originPaint","debug","Debug","UIData","LeafData","scale","scaleX","scaleY","x","y","__strokeWidth","__getRealStrokeWidth","__maxStrokeWidth","t","__hasMultiStrokeStyle","Math","max","strokeWidth","__hasMultiPaint","fill","__useStroke","__isFills","__isStrokes","stroke","__clipAfterFill","cornerRadius","innerShadow","__pathInputed","__hasSurface","__autoWidth","_width","__autoHeight","_height","__autoSide","__autoSize","setVisible","_visible","__leaf","watcher","hasVisible","setWidth","warn","setHeight","setFill","__naturalWidth","__removeNaturalSize","isString","__removePaint","_fill","isObject","__setPaint","setStroke","_stroke","setPath","isStr","__setInput","_path","__input","__removeInput","setShadow","setArray","setInnerShadow","setFilter","__computePaint","compute","__needComputePaint","undefined","childStyle","strokeWidthFixed","isUndefined","getClampRenderScale","layout","isArray","removeInput","recycleImage","data","some","item","visible","filter","GroupData","BoxData","__boxStroke","__drawAfterFill","__single","overflow","children","isOverflow","super","LeaferData","__getInputData","names","options","canvasSizeAttrs","forEach","FrameData","LineData","__usePathBox","points","RectData","EllipseData","PolygonData","StarData","PathData","PenData","fontWeightMap","thin","light","normal","medium","bold","black","TextData","__useNaturalRatio","setFontWeight","_fontWeight","setBoxStyle","box","__box","boxStyle","UICreator","boxLayout","parent","__world","boxBounds","strokeChanged","strokeChange","destroy","_boxStyle","textEditing","ImageData","setUrl","__setImageFill","_url","type","mode","url","__getData","CanvasData","__isCanvas","canvas","toDataURL","add","FourNumberHelper","UIBounds","__updateStrokeSpread","spread","boxSpread","strokeAlign","hitStroke","miterLimitAddWidth","__isLinePath","storkeCapAddWidth","strokeCap","__useArrow","strokeSpread","strokeBoxSpread","__updateRenderSpread","shadow","blur","backgroundBlur","renderSpread","getShadowRenderSpread","getSpread","shapeSpread","getInnerShadowSpread","renderShapeSpread","UIRender","__updateChange","useStroke","__isTransparentFill","otherEffect","isTransformShadow","useFastShadow","__checkSingle","__drawFast","drawFast","__draw","originCanvas","__complex","__fillAfterStroke","__isFastShadow","__drawRenderPath","shape","__nowWorld","__getNowWorld","strokes","fills","worldCanvas","recycle","getRenderScaleData","scaleFixed","save","setWorldShadow","string","restore","__pathForRender","__drawShape","ignoreFill","__isAlphaPixelFill","ignoreStroke","__isAlphaPixelStroke","clipUI","__drawContent","ui","RectRender","width","height","fillStyle","fillRect","half","strokeRect","__clip","UI","UI_1","Leaf","app","isFrame","MathHelper","assignScale","isAutoWidth","autoWidth","isAutoHeight","autoHeight","pen","path","__drawPathByBox","reset","_data","_transition","assign","name","__getInput","createProxyData","find","_condition","_options","findTag","tag","findOne","findId","id","getPath","curve","pathForRender","update","toCanvasData","getPathString","floatLength","stringify","load","__onUpdateSize","lazy","__inLazyBounds","running","__updateRenderPath","PathCorner","smooth","cornerSmoothing","addArrows","beginPath","__drawPathByData","__drawPath","drawer","ignoreCornerRadius","PathDrawer","drawPathByData","roundRect","isNumber","rect","closePath","drawImagePlaceholder","_paint","renderOptions","placeholderColor","animate","keyframe","_type","_isTemp","killAnimate","_nextStyle","_filename","syncExport","clone","json","toJSON","one","prototype","__tag","registerUI","registerData","dataProcessor","setEditConfig","_config","setEditOuter","_toolName","setEditInner","_editorName","__animate","dataType","surfaceType","opacityType","visibleType","dimType","sortType","maskType","eraserType","positionType","boundsType","scaleType","rotationType","scrollType","autoLayoutType","naturalBoundsType","affectRenderBoundsType","pathInputType","pathType","hitType","strokeType","cursorType","rewrite","useModule","rewriteAble","Group","isBranch","__setBranch","transition","clear","child","childlessJSON","map","pick","_hitPoint","addAt","index","addAfter","after","indexOf","addBefore","before","_child","_index","addMany","_children","remove","_destroy","removeAll","Branch","Leafer","Leafer_1","imageReady","viewReady","Resource","isComplete","layoutLocked","layouter","view","FPS","renderer","cursorPoint","interaction","hoverData","clientBounds","getClientBounds","getBoundsData","constructor","userConfig","config","start","hittable","lazySpeard","leafs","__eventIds","__controllers","__readyWait","__viewReadyWait","__viewCompletedWait","__nextRenderWait","init","parentApp","__setLeafer","__bindApp","initType","Creator","push","__setApp","__checkAutoLayout","selector","unshift","hitCanvasManager","canvasManager","CanvasManager","__listenEvents","__startTimer","setTimeout","bind","WaitHelper","run","__initWait","onInit","waitInit","clearTimeout","ready","emitLeafer","LeaferEvent","RESTART","START","render","stop","STOP","unlockLayout","updateLayout","lockLayout","resize","size","copyAttrs","keys","forceRender","bounds","sync","addBlock","Bounds","requestRender","change","updateCursor","cursor","setCursor","updateLazyBounds","lazyBounds","__doResize","isSameSize","old","__onResize","ResizeEvent","event","emitEvent","clearRecycled","__level","autoLayout","AutoBounds","startAutoLayout","newValue","includes","__changeCanvasSize","__changeFill","zIndex","__updateSortChildren","emit","UPDATE_MODE","__getAttr","stopAutoLayout","allowBackgroundColor","backgroundColor","__onCreated","created","__onReady","BEFORE_READY","READY","AFTER_READY","__onViewReady","VIEW_READY","__onLayoutEnd","grow","fixedWidth","fixedHeight","pixelRatio","worldBoxBounds","__onNextRender","viewCompleted","__checkViewCompleted","nextRender","VIEW_COMPLETED","__onWatchData","childrenChanged","waitReady","waitViewReady","waitViewCompleted","off","splice","zoom","_zoomType","_optionsOrPadding","_scroll","getValidMove","moveX","moveY","_checkLimit","getValidScale","changeScale","getWorldPointByClient","clientPoint","updateClient","getLocal","getPagePointByClient","getPagePoint","getClientPointByWorld","worldPoint","updateClientBounds","receiveEvent","_event","runId","Run","innerName","once","end","LayoutEvent","RenderEvent","END","on_","WatchEvent","DATA","NEXT","__removeListenEvents","off_","doDestory","destroyed","ImageManager","e","error","LeafList","Rect","scroll","BoundsHelper","group","Box","isBranchLeaf","__updateRectRenderSpread","__updateRectBoxBounds","__updateBoxBounds","_secondLayout","pathInputed","__extraUpdate","__updateNaturalSize","__updateStrokeBounds","__updateRenderBounds","isScrollMode","renderBounds","childrenRenderBounds","__updateRectRenderBounds","__checkScroll","_isScrollMode","__updateRectChange","__renderRect","_canvas","__renderGroup","__render","hasScroller","scroller","setWorld","Frame","moveTo","ellipse","PathCommandDataHelper","Ellipse","__updatePath","innerRadius","startAngle","endAngle","rx","ry","open","Platform","ellipseToCurve","sin","cos","PI","lineTo","drawPoints","Polygon","sides","Star","corners","rotate","getAngle","getDistance","defaultPoint","PointHelper","Line","toPoint","rotation","to","getPointData","closed","affectStrokeBoundsType","Image","image","MyImage","Canvas","context","drawImage","LeaferImage","paint","ImageEvent","LOADED","draw","offset","matrix","Matrix","worldTransform","invert","m","translate","multiplyParent","withScale","safeResize","copyAndSpread","setList","Text","textDrawData","__textDrawData","__updateTextDrawData","lineHeight","letterSpacing","fontFamily","fontSize","fontWeight","italic","textCase","textOverflow","padding","__lineHeight","number","__letterSpacing","__baseLine","__font","fourNumber","getDrawData","__isPlacehold","placeholder","text","contentBounds","b","top","right","bottom","left","__padding","__textBoxBounds","font","exporting","Path","Pen","setStyle","pathElement","pathStyle","__path","_x","_y","bezierCurveTo","_x1","_y1","_x2","_y2","quadraticCurveTo","_cornerRadius","_radiusX","_radiusY","_rotation","_startAngle","_endAngle","_anticlockwise","arc","_radius","arcTo","drawEllipse","drawArc","_points","_curve","_close","clearPath","forceUpdate","PathCreator","createDescriptor"],"mappings":"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","x_google_ignoreList":[0]}