import { IEvent, IObject, IEventTarget, IChildEvent, ILeaf, IPropertyEvent, IStringMap, IImageEvent, ILeaferImage, IBoundsEvent, IResizeEvent, INumberMap, IScreenSizeData, IWatchEvent, IWatchEventData, ILayoutEvent, ILayoutBlockData, IRenderEvent, IBounds, IRenderOptions, ILeaferEvent, IEventer, InnerId, IEventListenerMap, IEventParamsMap, IEventParams, IEventListener, IEventOption, IEventListenerId } from '@leafer/interface';

declare class Event implements IEvent {
    readonly origin: IObject;
    readonly type: string;
    readonly target: IEventTarget;
    readonly current: IEventTarget;
    readonly bubbles: boolean;
    readonly phase: number;
    isStopDefault: boolean;
    isStop: boolean;
    isStopNow: boolean;
    constructor(type: string, target?: IEventTarget);
    stopDefault(): void;
    stopNow(): void;
    stop(): void;
}

declare class ChildEvent extends Event implements IChildEvent {
    static ADD: string;
    static REMOVE: string;
    static CREATED: string;
    static MOUNTED: string;
    static UNMOUNTED: string;
    static DESTROY: string;
    readonly parent?: ILeaf;
    readonly child?: ILeaf;
    constructor(type: string, child?: ILeaf, parent?: ILeaf);
}

declare class PropertyEvent extends Event implements IPropertyEvent {
    static CHANGE: string;
    static LEAFER_CHANGE: string;
    static SCROLL: string;
    readonly attrName: string;
    readonly oldValue: unknown;
    readonly newValue: unknown;
    constructor(type: string, target: IEventTarget, attrName: string, oldValue: unknown, newValue: unknown);
}
declare const extraPropertyEventMap: IStringMap;

declare class ImageEvent extends Event implements IImageEvent {
    static LOAD: string;
    static LOADED: string;
    static ERROR: string;
    readonly image: ILeaferImage;
    readonly error: string | IObject;
    readonly attrName: string;
    readonly attrValue: IObject;
    constructor(type: string, data: IImageEvent);
}

declare class BoundsEvent extends Event implements IBoundsEvent {
    static RESIZE: string;
    static INNER: string;
    static LOCAL: string;
    static WORLD: string;
    static checkHas(leaf: IEventTarget, type: string, mode: 'on' | 'off'): void;
    static emitLocal(leaf: ILeaf): void;
    static emitWorld(leaf: ILeaf): void;
}

declare class ResizeEvent extends Event implements IResizeEvent {
    static RESIZE: string;
    static resizingKeys: INumberMap;
    readonly width: number;
    readonly height: number;
    readonly pixelRatio: number;
    get bigger(): boolean;
    get smaller(): boolean;
    get samePixelRatio(): boolean;
    readonly old: IScreenSizeData;
    constructor(size: IScreenSizeData | string, oldSize?: IScreenSizeData);
    static isResizing(leaf: ILeaf): boolean;
}

declare class WatchEvent extends Event implements IWatchEvent {
    static REQUEST: string;
    static DATA: string;
    readonly data: IWatchEventData;
    constructor(type: string, data?: IWatchEventData);
}

declare class LayoutEvent extends Event implements ILayoutEvent {
    static REQUEST: string;
    static START: string;
    static BEFORE: string;
    static LAYOUT: string;
    static AFTER: string;
    static AGAIN: string;
    static END: string;
    readonly data: ILayoutBlockData[];
    readonly times: number;
    constructor(type: string, data?: ILayoutBlockData[], times?: number);
}

declare class RenderEvent extends Event implements IRenderEvent {
    static REQUEST: string;
    static CHILD_START: string;
    static CHILD_END: string;
    static START: string;
    static BEFORE: string;
    static RENDER: string;
    static AFTER: string;
    static AGAIN: string;
    static END: string;
    static NEXT: string;
    readonly renderBounds: IBounds;
    readonly renderOptions: IRenderOptions;
    readonly times: number;
    constructor(type: string, times?: number, bounds?: IBounds, options?: IRenderOptions);
}

declare class LeaferEvent extends Event implements ILeaferEvent {
    static START: string;
    static BEFORE_READY: string;
    static READY: string;
    static AFTER_READY: string;
    static VIEW_READY: string;
    static VIEW_COMPLETED: string;
    static STOP: string;
    static RESTART: string;
    static END: string;
    static UPDATE_MODE: string;
    static TRANSFORM: string;
    static MOVE: string;
    static SCALE: string;
    static ROTATE: string;
    static SKEW: string;
}
declare const leaferTransformAttrMap: IStringMap;

declare class Eventer implements IEventer {
    readonly innerId: InnerId;
    __captureMap?: IEventListenerMap;
    __bubbleMap?: IEventListenerMap;
    __hasLocalEvent?: boolean;
    __hasWorldEvent?: boolean;
    syncEventer?: IEventer;
    set event(map: IEventParamsMap);
    on(type: string | string[] | IEventParams[] | IEventParamsMap, listener?: IEventListener, options?: IEventOption): void;
    off(type?: string | string[], listener?: IEventListener, options?: IEventOption): void;
    on_(type: string | string[] | IEventParams[], listener?: IEventListener, bind?: IObject, options?: IEventOption): IEventListenerId;
    off_(id: IEventListenerId | IEventListenerId[]): void;
    once(type: string | string[] | IEventParams[], listener?: IEventListener, captureOrBind?: boolean | IObject, capture?: boolean): void;
    emit(type: string, event?: IEvent | IObject, capture?: boolean): void;
    emitEvent(event: IEvent, capture?: boolean): void;
    hasEvent(type: string, capture?: boolean): boolean;
    destroy(): void;
}

export { BoundsEvent, ChildEvent, Event, Eventer, ImageEvent, LayoutEvent, LeaferEvent, PropertyEvent, RenderEvent, ResizeEvent, WatchEvent, extraPropertyEventMap, leaferTransformAttrMap };
